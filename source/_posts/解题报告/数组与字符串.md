---
title: 数组与字符串
date: 2018-02-03 09:28:44
categories: 解题报告
tags: 
- c/c++
- 竞赛
---
我最近在学习刘汝佳的算法竞赛入门经典（第二版），但是感觉只是看的话很容易忘，因此我决定写一个解题报告，记录一下我这段时间的学习成果。
<!--more-->

1. 得分（Score,uva1585）
------
题目描述：给出一个由O和X组成的串（长度为1～80），统计得分。每个O的得分为目前连续出现的O的个数，X的得分为0。例如，OOXXOXXOOO的得分为1+2+0+1+0+0+1+2+3。

解题思路：这个题没啥思路，就按题目上说的做就行。**不过注意题目中的X和O都是大写的（我觉得除了我也没谁犯这错误......)**。下面是代码。

```cpp
	#include<cstdio>
	#include<cstring>
	#define MAX 85

	using namespace std;

	int main()
	{
	    int T;
	    scanf("%d",&T);
	    while(T--)
	    {
		char s[MAX];
		scanf("%s",s);
		int sum = 0,a = 0;
		for(int i = 0;i < strlen(s);i++)
		{
		    if(s[i] == 'O')
		        sum += ++a;
		    else
		        a = 0;
		}
		printf("%d\n",sum);
	    }
	    return 0;
	}
```

2. 分子量（Molar Mass,uva1586)
------
题目描述：给出分子式，计算分子量。分子式为字符串，长度最大为80,下标数字取值范围为2～99。本题中的分子式只包含4种原子，分别为C，H，O，N，原子量分别为12.01,1.008,16.00,14.01。例如，C12H22O11分子量为342.296。

解题思路：**就是判断字符串中是字母还是数字，然后进行计算**。如果是数字，判断该数字的下一位是否是数字，如果是数字，用这两位数字进行计算，i+2;如果不是数字，用该数字计算，i+1。

```cpp
	#include<cstdio>
	#include<cstring>
	#include<cctype>
	#define MAX 85

	using namespace std;

	int main()
	{
	    int T;
	    scanf("%d",&T);
	    while(T--)
	    {
		char s[MAX];
		scanf("%s",s);
		double sum = 0,a = 0;
		int i = 0;
		while(i < strlen(s))
		{
		    if(isalpha(s[i]))
		    {
		        switch(s[i])
		        {
		            case 'C':
		                a = 12.01;
		                break;
		            case 'H':
		                a = 1.008; 
		                break;
		            case 'O':
		                a = 16.00;
		                break;
		            case 'N':
		                a = 14.01;
		                break;
		        }
		    }
		    else if(isdigit(s[i + 1]) && s[i + 1] != '\0')
		    {
		        a = ((s[i] - '0') * 10 + s[i + 1] - '0' - 1) * a;
		        i++;
		    }
		    else
		    {
		        a = (s[i] - '0' - 1) * a;
		    }
		    sum += a;
		    i++;
		}
		printf("%.3lf\n",sum);
	    }
	    return 0;
	}
```

3. 数数字（Digit Couting,uva1225)
------
题目描述：把前N（N<=10000）个整数顺序写在一起，数一数0～9各出现多少次，输出10个整数，分别是0,1,2......，9出现的次数。

解题思路：这个题做的真是坑啊！刚开始脑子抽抽了想把所有的数据放到一个数组里去，然后对这个数组中的数字进行统计，完了没写出来。**比较好的方法是输入一个数就查找一个数，最后输出结果**。

```cpp
	#include<cstdio>
	#include<cstring>
	#define MAX 10

	using namespace std;

	int main()
	{
	    int T;
	    scanf("%d",&T);
	    while(T--)
	    {
		int N;
		scanf("%d",&N);
		int num[MAX] = {0};
		for(int i = 1;i <= N;i++)
		{
		    int m = i;
		    while(m > 0)
		    {
		        for(int j = 0;j <= 9;j++)
		        {
		            if(j == m % 10)
		            {
		                num[j]++;
		                break;
		            }
		        }
		        m = m / 10;
		    }
		}
		for(int i = 0;i <= 9;i++)
		{
		    if(i > 0) printf(" ");
		    printf("%d",num[i]);
		}
		printf("\n");
	    }
	    return 0;
	}
```

4. 周期串（Periodic Strings，uva455）
------
题目描述：如果一个字符串可以由某个长度为k的字符串重复多次得到，则称该串以k为周期。例如，abcabcabcabc最小周期为3。输入一个长度不超过80的字符串，输出其最小周期。

解题思路：我差点没让这个题给我搞死，刚开始傻不拉叽的用memcpy函数将s中的子串复制到另一个字符数组d中，然后再用d中的字符跟s字串后的字符比较。**但是memcpy函数只是复制指定的字节数到d中，并不会自动添加'\0'**。然后就出现了一堆莫名奇妙的错误。
**实际上这个题有一个最重要的关键点，那就是周期一定能被串长整除，即串长为周期乘子串出现的次数。**把握这一点后，就好说了。
```cpp
	#include<cstdio>
	#include<cstring>
	#define MAX 85

	using namespace std;

	int main()
	{
	    int N;
	    scanf("%d",&N);
	    while(N--)
	    {
		char s[MAX];
		scanf("%s",s);
		int l = strlen(s);
		for(int i = 1;i <= l;i++)
		{
		    bool flag = true;
		    if(l % i) continue;
		    for(int j = 1;j < l / i;j++)
		    {
		        for(int k = 0;k < i;k++)
		        {
		            if(s[k] != s[k + j * i]) {flag = false; break;}
		        }
		        if(flag == false) break;
		    }
		    if(flag == true)
		    {
		        printf("%d\n",i);
		        if(N > 0) printf("\n");
		        break;
		    }
		}
	    }
	    return 0;
	}
```

5. 子序列（All in All,uva10340）
------
题目描述：输入两个字符串s和t，判断是否可以从t中删除0个或多个字符（其他字符顺序不变），得到字符串s。

解题思路：查找t中是否**按顺序**包含s中的**所有字符**。

```cpp
	#include<cstdio>
	#include<iostream>
	#include<string>

	using namespace std;

	int main(){
	    string s,t;
	    while(cin >> s >> t){
		int i = 0;
		for(int j = 0;j < t.length();j++){
		    if(s[i] == t[j]) i++;
		    if(i == s.length()) break;
		}
		if(i == s.length()) printf("Yes\n");
		else printf("No\n");
	    }
	    return 0;
	}
```