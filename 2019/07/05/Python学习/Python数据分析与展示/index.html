<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="准备">
<meta property="og:type" content="article">
<meta property="og:title" content="Python数据分析与展示">
<meta property="og:url" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/index.html">
<meta property="og:site_name" content="移动城堡">
<meta property="og:description" content="准备">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E7%9A%84?.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E7%9A%84run%E5%91%BD%E4%BB%A4.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E5%91%BD%E4%BB%A4.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E9%AB%98%E7%BB%B4%E6%95%B0%E6%8D%AE%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%95%B0%E6%8D%AE%E7%BB%B4%E5%BA%A6%E7%9A%84python%E8%A1%A8%E7%A4%BA1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%95%B0%E6%8D%AE%E7%BB%B4%E5%BA%A6%E7%9A%84python%E8%A1%A8%E7%A4%BA2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E5%88%97%E8%A1%A8%E6%95%B0%E7%BB%84%E5%AF%B9%E6%AF%94.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/ndarray%E5%AE%9E%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/ndarray%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B01.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B02.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%BA%8C%E5%85%83%E5%87%BD%E6%95%B0.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/savetext.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A81.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A82.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/loadtext.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile%E7%A4%BA%E4%BE%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile%E7%A4%BA%E4%BE%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile%E7%A4%BA%E4%BE%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile%E7%A4%BA%E4%BE%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E4%BE%BF%E6%8D%B7%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E4%BE%BF%E6%8D%B7%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/NumPy%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%87%BD%E6%95%B0%E5%AD%90%E5%BA%93.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%B0%8F%E6%B5%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%B0%8F%E6%B5%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/pyplot%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plot%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E9%A2%9C%E8%89%B2%E5%AD%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E9%A3%8E%E6%A0%BC%E5%AD%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%A0%87%E8%AE%B0%E5%AD%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plot%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plotkwargs.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/rc%E7%9A%84%E5%B1%9E%E6%80%A7.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93%E7%9A%84%E7%A7%8D%E7%B1%BB.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E5%AE%9E%E4%BE%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E5%AE%9E%E4%BE%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%A4%BA%E4%BE%8B1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%A4%BA%E4%BE%8B2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F%E7%A4%BA%E4%BE%8B.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/GridSpec%E7%B1%BB.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-1.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-2.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-3.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-4.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-5.png">
<meta property="og:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-6.png">
<meta property="article:published_time" content="2019-07-05T06:48:33.000Z">
<meta property="article:modified_time" content="2023-07-17T01:59:12.336Z">
<meta property="article:author" content="李澳">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="数据分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E7%9A%84?.png">

<link rel="canonical" href="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Python数据分析与展示 | 移动城堡</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">移动城堡</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">欢迎来到我的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="李澳">
      <meta itemprop="description" content="自娱自乐">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="移动城堡">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python数据分析与展示
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-07-05 14:48:33" itemprop="dateCreated datePublished" datetime="2019-07-05T14:48:33+08:00">2019-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-17 09:59:12" itemprop="dateModified" datetime="2023-07-17T09:59:12+08:00">2023-07-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">Python学习</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>45 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><span id="more"></span>
<p>Anaconda的安装见下面的博客<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/lwplwf/article/details/79162470">https://blog.csdn.net/lwplwf/article/details/79162470</a><br>安装好Anaconda后并没有Anaconda-navigator,按下面的教程进行操作后,就可以使用Anaconda-navigator了.<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9343ff5de364">https://www.jianshu.com/p/9343ff5de364</a> </p>
<p>下面介绍一些Ipython的使用方法<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E7%9A%84?.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E7%9A%84run%E5%91%BD%E4%BB%A4.png"><br>上图中的注意有点不不明白说的啥.<br>IPython有如下常用命令:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter0/IPython%E5%91%BD%E4%BB%A4.png"></p>
<h1 id="第一章-数据分析之表示"><a href="#第一章-数据分析之表示" class="headerlink" title="第一章 数据分析之表示"></a>第一章 数据分析之表示</h1><h2 id="1-1-Numpy库入门"><a href="#1-1-Numpy库入门" class="headerlink" title="1.1 Numpy库入门"></a>1.1 Numpy库入门</h2><h3 id="1-1-1-数据的维度"><a href="#1-1-1-数据的维度" class="headerlink" title="1.1.1 数据的维度"></a>1.1.1 数据的维度</h3><p>维度:一组数据的组织形式.</p>
<p>一维数据:一维数据由对等关系的有序或无序数据构成,采用线性方式组织.对应于列表、数组和集合等概念.<br>列表和数组区别:<br>列表数据类型<strong>可以不同</strong>.<br>数组数据类型<strong>相同</strong>.</p>
<p>二维数据:二维数据由多个一维数据构成,是一维数据的组合形式.表格是典型的二维数据.</p>
<p>多维数据:多维数据由一维或二维数据在新维度上扩展形成.</p>
<p>高维数据:高维数据仅利用最基本的二元关系展示数据间的复杂结构.<br>如:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E9%AB%98%E7%BB%B4%E6%95%B0%E6%8D%AE%E7%A4%BA%E4%BE%8B.png"></p>
<p>数据维度的Python表示:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%95%B0%E6%8D%AE%E7%BB%B4%E5%BA%A6%E7%9A%84python%E8%A1%A8%E7%A4%BA1.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%95%B0%E6%8D%AE%E7%BB%B4%E5%BA%A6%E7%9A%84python%E8%A1%A8%E7%A4%BA2.png"></p>
<h3 id="1-1-2-NumPy的数组对象ndarray"><a href="#1-1-2-NumPy的数组对象ndarray" class="headerlink" title="1.1.2 NumPy的数组对象ndarray"></a>1.1.2 NumPy的数组对象ndarray</h3><p>NumPy是一个开源的Python科学计算基础库,同时是Scipy、Pandas等数据处理或科学计算库的基础,包含:</p>
<ol>
<li>一个强大的N维数组对象 ndarray</li>
<li>广播功能函数</li>
<li>整合C&#x2F;C++&#x2F;Fortran代码的工具</li>
<li>线性代数、傅里叶变换、随机数生成等功能</li>
</ol>
<p>NumPy的引用方法如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np	<span class="comment">#引入模块的别名,约定上使用np</span></span><br></pre></td></tr></table></figure>
<p>Python已有列表类型,为什么还需要一个数组对象(类型)呢?<br>看下面的示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E5%88%97%E8%A1%A8%E6%95%B0%E7%BB%84%E5%AF%B9%E6%AF%94.png"><br>相较于列表,数组有如下优点:</p>
<ol>
<li>数组对象可以去掉元素间运算所需的循环,使一维向量更像单个数据</li>
<li>设置专门的数组对象,经过优化,可以提升这类应用的运算速度<br>观察:科学计算中,一个维度所有数据的类型往往相同</li>
<li>数组对象采用相同的数据类型,有助于节省运算和存储空间</li>
</ol>
<p>下面是一个ndarry的实例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/ndarray%E5%AE%9E%E4%BE%8B.png"><br>这里有两个重要的概念.</p>
<blockquote>
<p>轴(axis):保存数据的维度.从<strong>0轴</strong>开始.如0轴代表第一维度,1轴代表第二维度.<br>秩(rank):轴的数量,即维度.如上例中的数组秩为2,二维数组.</p>
</blockquote>
<p>关于轴的理解可以看看下面的这篇文章<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42383041/article/details/86157702">https://blog.csdn.net/qq_42383041&#x2F;article&#x2F;details&#x2F;86157702</a> </p>
<p>ndarray对象有如下常用属性:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/ndarray%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7.png"><br>属性示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: a = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">   ...:               [<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: a.ndim</span><br><span class="line">Out[<span class="number">3</span>]: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: a.shape</span><br><span class="line">Out[<span class="number">4</span>]: (<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: a.size</span><br><span class="line">Out[<span class="number">5</span>]: <span class="number">10</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: a.dtype</span><br><span class="line">Out[<span class="number">6</span>]: dtype(<span class="string">&#x27;int64&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: a.itemsize</span><br><span class="line">Out[<span class="number">7</span>]: <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p>下面介绍一下ndarray中的元素类型:</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>布尔类型,True或False</td>
</tr>
<tr>
<td>intc</td>
<td>与C语言中的int类型一致,一般是int32或int64</td>
</tr>
<tr>
<td>intp</td>
<td>用于索引的整数,与C语言中ssize_t一致,int32或int64</td>
</tr>
<tr>
<td>int8</td>
<td>字节长度的整数,取值:[‐128, 127]</td>
</tr>
<tr>
<td>int16</td>
<td>16位长度的整数,取值:[‐32768, 32767]</td>
</tr>
<tr>
<td>int32</td>
<td>32位长度的整数,取值:[‐2<sup>31</sup> , 2<sup>31</sup> ‐1]</td>
</tr>
<tr>
<td>int64</td>
<td>64位长度的整数,取值:[‐2<sup>64</sup> , 2<sup>64</sup> ‐1]</td>
</tr>
<tr>
<td>uint8</td>
<td>8位无符号整数,取值:[0, 255]</td>
</tr>
<tr>
<td>uint16</td>
<td>16位无符号整数,取值:[0, 65535]</td>
</tr>
<tr>
<td>uint32</td>
<td>32位无符号整数,取值:[0, 2<sup>32</sup> ‐1]</td>
</tr>
<tr>
<td>uint64</td>
<td>64位无符号整数,取值:[0, 2<sup>64</sup> ‐1]</td>
</tr>
<tr>
<td>float16</td>
<td>16位半精度浮点数:1位符号位,5位指数,10位尾数	注:浮点数组成为(符号)尾数*10<sup>指数</sup></td>
</tr>
<tr>
<td>float32</td>
<td>32位单精度浮点数:1位符号位,8位指数,23位尾数</td>
</tr>
<tr>
<td>foat64</td>
<td>64位双精度浮点数:1位符号位,11位指数,52位尾数</td>
</tr>
<tr>
<td>complex64</td>
<td>复数类型,实部和虚部都是32位浮点数	注:复数为实部(.real) + j虚部(.imag)</td>
</tr>
<tr>
<td>complex128</td>
<td>复数类型,实部和虚部都是64位浮点数</td>
</tr>
</tbody></table>
<p>下面看一个有趣的例子:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: x = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">   ...:               [<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: x.shape</span><br><span class="line">Out[<span class="number">10</span>]: (<span class="number">2</span>,)</span><br><span class="line"></span><br><span class="line">In [<span class="number">11</span>]: x.dtype</span><br><span class="line">Out[<span class="number">11</span>]: dtype(<span class="string">&#x27;O&#x27;</span>)	<span class="comment">#O代表对象类型</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: x</span><br><span class="line">Out[<span class="number">12</span>]: array([<span class="built_in">list</span>([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]), <span class="built_in">list</span>([<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>])], dtype=<span class="built_in">object</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">13</span>]: x.itemsize</span><br><span class="line">Out[<span class="number">13</span>]: <span class="number">8</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: x.size</span><br><span class="line">Out[<span class="number">14</span>]: <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#---------------</span></span><br><span class="line">In [<span class="number">20</span>]: x = np.array([[[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>]],[[<span class="number">4</span>,<span class="number">5</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">21</span>]: x</span><br><span class="line">Out[<span class="number">21</span>]: array([<span class="built_in">list</span>([[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>]]), <span class="built_in">list</span>([[<span class="number">4</span>, <span class="number">5</span>]])], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>
<p>关于上面的例子,嵩天老师的描述如下:ndarray数组可以由非同质对象构成,非同质ndarray元素为对象类型,非同质ndarray对象无法有效发挥NumPy优势,尽量避免使用.<br>上面对于同质的解释是元素类型相同,但是本例中的元素类型是相同的,只是第二维中的元素个数不同,所以我将上例中的不同质理解为各维度中的元素个数不同.</p>
<h3 id="1-1-3-ndarray数组的创建和变换"><a href="#1-1-3-ndarray数组的创建和变换" class="headerlink" title="1.1.3 ndarray数组的创建和变换"></a>1.1.3 ndarray数组的创建和变换</h3><p>ndarray数组的创建方法有如下四种:</p>
<ul>
<li>从Python中的列表、元组等类型创建ndarray数组</li>
<li>使用NumPy中函数创建ndarray数组,如:arange, ones, zeros等</li>
<li>从字节流(raw bytes)中创建ndarray数组</li>
<li>从文件中读取特定格式,创建ndarray数组</li>
</ul>
<p>下面介绍前两种方法:<br>(1). 从Python中的列表、元组等类型创建ndarray数组.形式如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.(<span class="built_in">list</span>/<span class="built_in">tuple</span>)</span><br><span class="line">x = np.array(<span class="built_in">list</span>/<span class="built_in">tuple</span>,dtype=np.float32)</span><br></pre></td></tr></table></figure>
<p>当np.array()不指定dtype时,NumPy将根据数据情况关联一个dtype类型.<br>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">22</span>]: x = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])	<span class="comment">#从列表类型创建</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: <span class="built_in">print</span>(x)</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: x = np.array((<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>))	<span class="comment">#从元组类型创建</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: <span class="built_in">print</span>(x)</span><br><span class="line">[<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: x = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">9</span>,<span class="number">8</span>],(<span class="number">0.1</span>,<span class="number">0.2</span>)])	<span class="comment">#从列表和元组混和类型创建</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">27</span>]: <span class="built_in">print</span>(x)</span><br><span class="line">[[<span class="number">1.</span>  <span class="number">2.</span> ]</span><br><span class="line"> [<span class="number">9.</span>  <span class="number">8.</span> ]</span><br><span class="line"> [<span class="number">0.1</span> <span class="number">0.2</span>]]</span><br></pre></td></tr></table></figure>

<p>(2). 使用NumPy中函数创建ndarray数组,如:arange, ones, zeros等</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>np.arange(n)</td>
<td>类似range()函数,返回ndarray类型,元素从0到n‐1</td>
</tr>
<tr>
<td>np.ones(shape)</td>
<td>根据shape生成一个全1数组,shape是元组类型</td>
</tr>
<tr>
<td>np.zeros(shape)</td>
<td>根据shape生成一个全0数组,shape是元组类型</td>
</tr>
<tr>
<td>np.full(shape,val)</td>
<td>根据shape生成一个数组,每个元素值都是val</td>
</tr>
<tr>
<td>np.eye(n)</td>
<td>创建一个正方的n*n单位矩阵,对角线为1,其余为0</td>
</tr>
<tr>
<td>np.ones_like(a)</td>
<td>根据数组a的形状生成一个全1数组</td>
</tr>
<tr>
<td>np.zeros_like(a)</td>
<td>根据数组a的形状生成一个全0数组</td>
</tr>
<tr>
<td>np.full_like(a,val)</td>
<td>根据数组a的形状生成一个数组,每个元素值都是val</td>
</tr>
</tbody></table>
<p>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">28</span>]: np.arange(<span class="number">10</span>)</span><br><span class="line">Out[<span class="number">28</span>]: array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: np.ones((<span class="number">3</span>,<span class="number">6</span>))</span><br><span class="line">Out[<span class="number">29</span>]: </span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: np.zeros((<span class="number">3</span>,<span class="number">6</span>),dtype=np.int32)</span><br><span class="line">    ...: </span><br><span class="line">Out[<span class="number">30</span>]: </span><br><span class="line">array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">31</span>]: np.eye(<span class="number">5</span>)</span><br><span class="line">Out[<span class="number">31</span>]: </span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: x = np.ones((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: <span class="built_in">print</span>(x)</span><br><span class="line">[[[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">  [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">  [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">  [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line">  [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]]]</span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: x.shape</span><br><span class="line">Out[<span class="number">34</span>]: (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>从上例中可以看出,在不指定数据类型的情况下,ones、zeros与eye函数所生成的数组都为浮点数类型,只有arange函数生成的为整数类型.实际上,numpy中绝大多数函数默认的生成结果都为浮点型.这是因为在科学计算中,绝大多数的数据都为浮点类型.</p>
<p>(3). 使用NumPy中其他函数创建ndarray数组</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>np.linspace()</td>
<td>根据起止数据等间距地填充数据,形成数组</td>
</tr>
<tr>
<td>np.concatenate()</td>
<td>将两个或多个数组合并成一个新的数组</td>
</tr>
</tbody></table>
<p>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">36</span>]: a = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">4</span>)	<span class="comment">#参数含义分别为起始元素、终止元素、生成元素个数</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">37</span>]: a</span><br><span class="line">Out[<span class="number">37</span>]: array([ <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">7.</span>, <span class="number">10.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: b = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">4</span>,endpoint=<span class="literal">False</span>)	<span class="comment">#endpoint参数含义是生成元素的中是否包含终止元素,默认包含.</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: b</span><br><span class="line">Out[<span class="number">39</span>]: array([<span class="number">1.</span>  , <span class="number">3.25</span>, <span class="number">5.5</span> , <span class="number">7.75</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: c = np.concatenate((a,b))</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: c</span><br><span class="line">Out[<span class="number">41</span>]: array([ <span class="number">1.</span>  ,  <span class="number">4.</span>  ,  <span class="number">7.</span>  , <span class="number">10.</span>  ,  <span class="number">1.</span>  ,  <span class="number">3.25</span>,  <span class="number">5.5</span> ,  <span class="number">7.75</span>])</span><br></pre></td></tr></table></figure>

<p>ndarray数组的变换<br>对于创建后的ndarray数组,可以对其进行维度变换和元素类型变换.</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.reshape(shape)</td>
<td>不改变数组元素,返回一个shape形状的数组,原数组不变</td>
</tr>
<tr>
<td>.resize(shape)</td>
<td>与.reshape()功能一致,但修改原数组</td>
</tr>
<tr>
<td>.swapaxes(ax1,ax2)</td>
<td>将数组n个维度中两个维度进行调换</td>
</tr>
<tr>
<td>.flatten()</td>
<td>对数组进行降维,返回折叠后的一维数组,原数组不变</td>
</tr>
<tr>
<td>.astype(new_type)</td>
<td>ndarray数组的类型变换.astype()方法一定会创建新的数组(原始数据的一个拷贝),即使两个类型一致</td>
</tr>
<tr>
<td>.tolist()</td>
<td>ndarray数组向列表的转换</td>
</tr>
</tbody></table>
<p>要注意体会上表中函数是否会导致原数组发生改变,这一点在使用中至关重要.<br>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">42</span>]: a = np.ones((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>),dtype=np.int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">43</span>]: a</span><br><span class="line">Out[<span class="number">43</span>]: </span><br><span class="line">array([[[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">44</span>]: a.reshape((<span class="number">3</span>,<span class="number">8</span>))</span><br><span class="line">Out[<span class="number">44</span>]: </span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: a</span><br><span class="line">Out[<span class="number">45</span>]: </span><br><span class="line">array([[[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">46</span>]: a.resize((<span class="number">3</span>,<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">47</span>]: a</span><br><span class="line">Out[<span class="number">47</span>]: </span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">48</span>]: a.flatten()</span><br><span class="line">Out[<span class="number">48</span>]: </span><br><span class="line">array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">       <span class="number">1</span>, <span class="number">1</span>], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">49</span>]: a</span><br><span class="line">Out[<span class="number">49</span>]: </span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: a.astype(np.<span class="built_in">float</span>)</span><br><span class="line">Out[<span class="number">50</span>]: </span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">51</span>]: a</span><br><span class="line">Out[<span class="number">51</span>]: </span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]], dtype=int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: a.tolist()</span><br><span class="line">Out[<span class="number">52</span>]: [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="1-1-4-ndarray数组的操作-数组的索引和切片"><a href="#1-1-4-ndarray数组的操作-数组的索引和切片" class="headerlink" title="1.1.4 ndarray数组的操作(数组的索引和切片)"></a>1.1.4 ndarray数组的操作(数组的索引和切片)</h3><p>索引:获取数组中特定位置元素的过程<br>切片:获取数组元素子集的过程</p>
<p>一维数组的索引和切片:与Python的列表类似</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">55</span>]: a = np.array([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">56</span>]: a[<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">56</span>]: <span class="number">7</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: a[<span class="number">1</span>:<span class="number">4</span>:<span class="number">2</span>]	<span class="comment">#起始编号:终止编号:步长.编号0开始从左递增,或从-1开始从右递减.</span></span><br><span class="line">Out[<span class="number">58</span>]: array([<span class="number">8</span>, <span class="number">6</span>])</span><br></pre></td></tr></table></figure>
<p>多维数组的索引:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">59</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: a</span><br><span class="line">Out[<span class="number">60</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">61</span>]: a[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]	<span class="comment">#每个维度一个索引值,逗号分割</span></span><br><span class="line">Out[<span class="number">61</span>]: <span class="number">23</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">62</span>]: a[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">62</span>]: <span class="number">6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">63</span>]: a[-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">63</span>]: <span class="number">17</span></span><br></pre></td></tr></table></figure>
<p>多维数组的切片:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">59</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: a</span><br><span class="line">Out[<span class="number">60</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: a[:,<span class="number">1</span>,-<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">64</span>]: array([ <span class="number">5</span>, <span class="number">17</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">65</span>]: a[:,<span class="number">1</span>:<span class="number">3</span>,:]</span><br><span class="line">Out[<span class="number">65</span>]: </span><br><span class="line">array([[[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">66</span>]: a[:,:,::<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">66</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">8</span>, <span class="number">10</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">14</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">18</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">22</span>]]])</span><br></pre></td></tr></table></figure>

<h3 id="1-1-5-ndarray数组的运算"><a href="#1-1-5-ndarray数组的运算" class="headerlink" title="1.1.5 ndarray数组的运算"></a>1.1.5 ndarray数组的运算</h3><p>数组与标量之间的运算:数组与标量之间的运算作用于数组的每一个元素</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">59</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: a</span><br><span class="line">Out[<span class="number">60</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line">        </span><br><span class="line">In [<span class="number">67</span>]: a / <span class="number">11.5</span></span><br><span class="line">Out[<span class="number">67</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">0.08695652</span>, <span class="number">0.17391304</span>, <span class="number">0.26086957</span>],</span><br><span class="line">        [<span class="number">0.34782609</span>, <span class="number">0.43478261</span>, <span class="number">0.52173913</span>, <span class="number">0.60869565</span>],</span><br><span class="line">        [<span class="number">0.69565217</span>, <span class="number">0.7826087</span> , <span class="number">0.86956522</span>, <span class="number">0.95652174</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">1.04347826</span>, <span class="number">1.13043478</span>, <span class="number">1.2173913</span> , <span class="number">1.30434783</span>],</span><br><span class="line">        [<span class="number">1.39130435</span>, <span class="number">1.47826087</span>, <span class="number">1.56521739</span>, <span class="number">1.65217391</span>],</span><br><span class="line">        [<span class="number">1.73913043</span>, <span class="number">1.82608696</span>, <span class="number">1.91304348</span>, <span class="number">2.</span>        ]]])</span><br></pre></td></tr></table></figure>

<p>Numpy中有许多一元函数(对数组进行一元运算的函数),对ndarray中的数据执行元素级运算.<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B01.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B02.png"><br>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">68</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: np.square(a)</span><br><span class="line">Out[<span class="number">69</span>]: </span><br><span class="line">array([[[  <span class="number">0</span>,   <span class="number">1</span>,   <span class="number">4</span>,   <span class="number">9</span>],</span><br><span class="line">        [ <span class="number">16</span>,  <span class="number">25</span>,  <span class="number">36</span>,  <span class="number">49</span>],</span><br><span class="line">        [ <span class="number">64</span>,  <span class="number">81</span>, <span class="number">100</span>, <span class="number">121</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">144</span>, <span class="number">169</span>, <span class="number">196</span>, <span class="number">225</span>],</span><br><span class="line">        [<span class="number">256</span>, <span class="number">289</span>, <span class="number">324</span>, <span class="number">361</span>],</span><br><span class="line">        [<span class="number">400</span>, <span class="number">441</span>, <span class="number">484</span>, <span class="number">529</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">70</span>]: a = sqrt(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">71</span>]: a</span><br><span class="line">Out[<span class="number">71</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">1.41421356</span>, <span class="number">1.73205081</span>],</span><br><span class="line">        [<span class="number">2.</span>        , <span class="number">2.23606798</span>, <span class="number">2.44948974</span>, <span class="number">2.64575131</span>],</span><br><span class="line">        [<span class="number">2.82842712</span>, <span class="number">3.</span>        , <span class="number">3.16227766</span>, <span class="number">3.31662479</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.46410162</span>, <span class="number">3.60555128</span>, <span class="number">3.74165739</span>, <span class="number">3.87298335</span>],</span><br><span class="line">        [<span class="number">4.</span>        , <span class="number">4.12310563</span>, <span class="number">4.24264069</span>, <span class="number">4.35889894</span>],</span><br><span class="line">        [<span class="number">4.47213595</span>, <span class="number">4.58257569</span>, <span class="number">4.69041576</span>, <span class="number">4.79583152</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">72</span>]: np.modf(a)</span><br><span class="line">Out[<span class="number">72</span>]: </span><br><span class="line">(array([[[<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.41421356</span>, <span class="number">0.73205081</span>],</span><br><span class="line">         [<span class="number">0.</span>        , <span class="number">0.23606798</span>, <span class="number">0.44948974</span>, <span class="number">0.64575131</span>],</span><br><span class="line">         [<span class="number">0.82842712</span>, <span class="number">0.</span>        , <span class="number">0.16227766</span>, <span class="number">0.31662479</span>]],</span><br><span class="line"> </span><br><span class="line">        [[<span class="number">0.46410162</span>, <span class="number">0.60555128</span>, <span class="number">0.74165739</span>, <span class="number">0.87298335</span>],</span><br><span class="line">         [<span class="number">0.</span>        , <span class="number">0.12310563</span>, <span class="number">0.24264069</span>, <span class="number">0.35889894</span>],</span><br><span class="line">         [<span class="number">0.47213595</span>, <span class="number">0.58257569</span>, <span class="number">0.69041576</span>, <span class="number">0.79583152</span>]]]),</span><br><span class="line"> array([[[<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">         [<span class="number">2.</span>, <span class="number">2.</span>, <span class="number">2.</span>, <span class="number">2.</span>],</span><br><span class="line">         [<span class="number">2.</span>, <span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">        [[<span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>],</span><br><span class="line">         [<span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>],</span><br><span class="line">         [<span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>]]]))</span><br></pre></td></tr></table></figure>
<p>几乎所有的一元函数都是新生成数组,<strong>原有数组并未被改变</strong>.</p>
<p>二元函数(对数组进行二元运算)如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/numpy%E4%BA%8C%E5%85%83%E5%87%BD%E6%95%B0.png"><br>示例如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">73</span>]: a = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">74</span>]: b = np.sqrt(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">75</span>]: a</span><br><span class="line">Out[<span class="number">75</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">76</span>]: b</span><br><span class="line">Out[<span class="number">76</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">1.41421356</span>, <span class="number">1.73205081</span>],</span><br><span class="line">        [<span class="number">2.</span>        , <span class="number">2.23606798</span>, <span class="number">2.44948974</span>, <span class="number">2.64575131</span>],</span><br><span class="line">        [<span class="number">2.82842712</span>, <span class="number">3.</span>        , <span class="number">3.16227766</span>, <span class="number">3.31662479</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.46410162</span>, <span class="number">3.60555128</span>, <span class="number">3.74165739</span>, <span class="number">3.87298335</span>],</span><br><span class="line">        [<span class="number">4.</span>        , <span class="number">4.12310563</span>, <span class="number">4.24264069</span>, <span class="number">4.35889894</span>],</span><br><span class="line">        [<span class="number">4.47213595</span>, <span class="number">4.58257569</span>, <span class="number">4.69041576</span>, <span class="number">4.79583152</span>]]])</span><br><span class="line">        </span><br><span class="line"> In [<span class="number">78</span>]: np.maximum(a,b)	<span class="comment">#运算结果为浮点数</span></span><br><span class="line">Out[<span class="number">78</span>]: </span><br><span class="line">array([[[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>],</span><br><span class="line">        [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>],</span><br><span class="line">        [ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12.</span>, <span class="number">13.</span>, <span class="number">14.</span>, <span class="number">15.</span>],</span><br><span class="line">        [<span class="number">16.</span>, <span class="number">17.</span>, <span class="number">18.</span>, <span class="number">19.</span>],</span><br><span class="line">        [<span class="number">20.</span>, <span class="number">21.</span>, <span class="number">22.</span>, <span class="number">23.</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">79</span>]: a &gt; b</span><br><span class="line">Out[<span class="number">79</span>]: </span><br><span class="line">array([[[<span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]]])</span><br></pre></td></tr></table></figure>

<h2 id="1-2-NumPy数据存取与函数"><a href="#1-2-NumPy数据存取与函数" class="headerlink" title="1.2 NumPy数据存取与函数"></a>1.2 NumPy数据存取与函数</h2><h3 id="1-2-1-数据的CSV文件存取"><a href="#1-2-1-数据的CSV文件存取" class="headerlink" title="1.2.1 数据的CSV文件存取"></a>1.2.1 数据的CSV文件存取</h3><p>CSV(Comma‐Separated Value, 逗号分隔值),CSV是一种常见的文件格式,用来存储批量数据.<br>下面是CSV文件的一个示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B.png"></p>
<p>下面介绍将数据存为文件和读取文件的函数.<br>将数据存储为文件:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/savetext.png"><br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A81.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A82.png"></p>
<p>读取文件内容:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/loadtext.png"><br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/csv%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96.png"><br>CSV文件的局限性:CSV只能有效存储一维和二维数组<br>np.savetxt() np.loadtxt()只能有效存取一维和二维数组.</p>
<h3 id="1-2-2-多维数据的存取"><a href="#1-2-2-多维数据的存取" class="headerlink" title="1.2.2 多维数据的存取"></a>1.2.2 多维数据的存取</h3><p>多维数据的存取有两种方式,下面一一介绍.</p>
<p>(1).tofile和fromfile函数<br>存储数据:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile.png"><br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile%E7%A4%BA%E4%BE%8B1.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/tofile%E7%A4%BA%E4%BE%8B2.png"></p>
<p>读取数据:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile.png"><br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile%E7%A4%BA%E4%BE%8B1.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/fromfile%E7%A4%BA%E4%BE%8B2.png"><br>需要注意:该方法需要读取时知道存入文件时<strong>数组的维度和元素类型</strong>,a.tofile()和np.fromfile()需要配合使用.可以通过元数据文件来存储额外信息.<br>这种方法本质上就是将数组存储为一维,读取时再将其变为原来的维度.</p>
<p>(2).NumPy自带的便捷文件存取<br>函数如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E4%BE%BF%E6%8D%B7%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96.png"><br>其中.savez函数是以压缩文件的格式进行存储(即.npz文件)<br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E4%BE%BF%E6%8D%B7%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96%E7%A4%BA%E4%BE%8B.png"></p>
<h3 id="1-2-3-NumPy的随机数函数"><a href="#1-2-3-NumPy的随机数函数" class="headerlink" title="1.2.3 NumPy的随机数函数"></a>1.2.3 NumPy的随机数函数</h3><p>NumPy的随机数函数子库:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/NumPy%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%87%BD%E6%95%B0%E5%AD%90%E5%BA%93.png"><br>下面对其中常用的一些函数进行介绍:</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>rand(d0,d1,..,dn)</td>
<td>根据d0~dn创建随机数数组,浮点数,[0,1),均匀分布</td>
</tr>
<tr>
<td>randn(d0,d1,..,dn)</td>
<td>根据d0~dn创建随机数数组,标准正态分布</td>
</tr>
<tr>
<td>randint(low[,high,shape])</td>
<td>根据shape创建随机整数或整数数组,默认high是None.如果只有low,那范围就是[0,low).如果有high,范围就是[low,high))</td>
</tr>
<tr>
<td>seed(s)</td>
<td>随机数种子,s是给定的种子值</td>
</tr>
</tbody></table>
<p>d0的含义是0轴(即第一维)的元素个数,以此类推.其实d0 ~ dn就相当于shape.<br>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">80</span>]: a = np.random.rand(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">81</span>]: a</span><br><span class="line">Out[<span class="number">81</span>]: </span><br><span class="line">array([[[<span class="number">0.22662045</span>, <span class="number">0.25631831</span>, <span class="number">0.30790356</span>, <span class="number">0.51932004</span>, <span class="number">0.64856035</span>],</span><br><span class="line">        [<span class="number">0.82989973</span>, <span class="number">0.61051739</span>, <span class="number">0.40360202</span>, <span class="number">0.59764637</span>, <span class="number">0.87501301</span>],</span><br><span class="line">        [<span class="number">0.8417</span>    , <span class="number">0.80748835</span>, <span class="number">0.6747295</span> , <span class="number">0.63648347</span>, <span class="number">0.42931226</span>],</span><br><span class="line">        [<span class="number">0.89915768</span>, <span class="number">0.18723354</span>, <span class="number">0.68380006</span>, <span class="number">0.07626781</span>, <span class="number">0.84443353</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0.16311298</span>, <span class="number">0.86332729</span>, <span class="number">0.38138595</span>, <span class="number">0.055526</span>  , <span class="number">0.79506978</span>],</span><br><span class="line">        [<span class="number">0.11545477</span>, <span class="number">0.86546936</span>, <span class="number">0.42165681</span>, <span class="number">0.56357232</span>, <span class="number">0.85996555</span>],</span><br><span class="line">        [<span class="number">0.20605459</span>, <span class="number">0.37012006</span>, <span class="number">0.31962124</span>, <span class="number">0.40096934</span>, <span class="number">0.97501276</span>],</span><br><span class="line">        [<span class="number">0.062199</span>  , <span class="number">0.50420916</span>, <span class="number">0.34670515</span>, <span class="number">0.06486468</span>, <span class="number">0.46100968</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0.65423291</span>, <span class="number">0.81574736</span>, <span class="number">0.05534948</span>, <span class="number">0.33177916</span>, <span class="number">0.77337254</span>],</span><br><span class="line">        [<span class="number">0.46219691</span>, <span class="number">0.40165095</span>, <span class="number">0.84071239</span>, <span class="number">0.5813838</span> , <span class="number">0.43413254</span>],</span><br><span class="line">        [<span class="number">0.3870097</span> , <span class="number">0.53683081</span>, <span class="number">0.16817656</span>, <span class="number">0.92011107</span>, <span class="number">0.1542574</span> ],</span><br><span class="line">        [<span class="number">0.97988054</span>, <span class="number">0.62259954</span>, <span class="number">0.95180065</span>, <span class="number">0.61054688</span>, <span class="number">0.81638157</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">82</span>]: sn = np.random.randn(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">83</span>]: sn</span><br><span class="line">Out[<span class="number">83</span>]: </span><br><span class="line">array([[[ <span class="number">0.73372806</span>,  <span class="number">0.13515669</span>, -<span class="number">0.01620027</span>,  <span class="number">0.85302026</span>,</span><br><span class="line">         -<span class="number">1.4931864</span> ],</span><br><span class="line">        [ <span class="number">0.4055326</span> , -<span class="number">0.63034154</span>, -<span class="number">1.18347299</span>,  <span class="number">0.61070359</span>,</span><br><span class="line">          <span class="number">0.26150965</span>],</span><br><span class="line">        [ <span class="number">0.06050631</span>, -<span class="number">0.01997448</span>,  <span class="number">1.10764179</span>,  <span class="number">0.84644396</span>,</span><br><span class="line">          <span class="number">0.05650237</span>],</span><br><span class="line">        [ <span class="number">1.08598832</span>, -<span class="number">0.79604911</span>, -<span class="number">0.73543501</span>, -<span class="number">1.54048532</span>,</span><br><span class="line">         -<span class="number">0.77160571</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0.13706603</span>, -<span class="number">1.31748621</span>,  <span class="number">0.45394846</span>, -<span class="number">1.7014542</span> ,</span><br><span class="line">         -<span class="number">0.41796209</span>],</span><br><span class="line">        [-<span class="number">1.17817069</span>,  <span class="number">0.17228767</span>, -<span class="number">0.67916395</span>, -<span class="number">1.0091917</span> ,</span><br><span class="line">         -<span class="number">1.94531352</span>],</span><br><span class="line">        [ <span class="number">0.90705826</span>,  <span class="number">0.7482295</span> ,  <span class="number">1.76151093</span>, -<span class="number">0.77923685</span>,</span><br><span class="line">          <span class="number">0.49743821</span>],</span><br><span class="line">        [ <span class="number">1.5549836</span> , -<span class="number">0.28256153</span>, -<span class="number">0.2191277</span> , -<span class="number">0.8942312</span> ,</span><br><span class="line">         -<span class="number">0.6842405</span> ]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0.74422174</span>, -<span class="number">0.253692</span>  ,  <span class="number">0.29204143</span>, -<span class="number">1.19581289</span>,</span><br><span class="line">          <span class="number">0.40765978</span>],</span><br><span class="line">        [ <span class="number">0.94526747</span>,  <span class="number">0.29393822</span>,  <span class="number">0.55004467</span>,  <span class="number">0.07149832</span>,</span><br><span class="line">          <span class="number">0.74824021</span>],</span><br><span class="line">        [ <span class="number">0.11367535</span>,  <span class="number">0.56535408</span>,  <span class="number">0.54214775</span>,  <span class="number">0.13021652</span>,</span><br><span class="line">          <span class="number">0.218538</span>  ],</span><br><span class="line">        [ <span class="number">0.24047369</span>, -<span class="number">0.5632706</span> ,  <span class="number">0.5942279</span> , -<span class="number">1.0630008</span> ,</span><br><span class="line">         -<span class="number">0.67039578</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">84</span>]: b = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">85</span>]: b</span><br><span class="line">Out[<span class="number">85</span>]: </span><br><span class="line">array([[<span class="number">128</span>, <span class="number">157</span>, <span class="number">162</span>, <span class="number">185</span>],</span><br><span class="line">       [<span class="number">112</span>, <span class="number">125</span>, <span class="number">178</span>, <span class="number">115</span>],</span><br><span class="line">       [<span class="number">131</span>, <span class="number">190</span>, <span class="number">138</span>, <span class="number">121</span>]])</span><br><span class="line">       </span><br><span class="line">In [<span class="number">86</span>]: np.random.seed(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">87</span>]: np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">Out[<span class="number">87</span>]: </span><br><span class="line">array([[<span class="number">109</span>, <span class="number">115</span>, <span class="number">164</span>, <span class="number">128</span>],</span><br><span class="line">       [<span class="number">189</span>, <span class="number">193</span>, <span class="number">129</span>, <span class="number">108</span>],</span><br><span class="line">       [<span class="number">173</span>, <span class="number">100</span>, <span class="number">140</span>, <span class="number">136</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">88</span>]: np.random.seed(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">89</span>]: np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">Out[<span class="number">89</span>]: </span><br><span class="line">array([[<span class="number">109</span>, <span class="number">115</span>, <span class="number">164</span>, <span class="number">128</span>],</span><br><span class="line">       [<span class="number">189</span>, <span class="number">193</span>, <span class="number">129</span>, <span class="number">108</span>],</span><br><span class="line">       [<span class="number">173</span>, <span class="number">100</span>, <span class="number">140</span>, <span class="number">136</span>]])</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>shuffle(a)</td>
<td>根据数组a的第0轴进行随排列,改变数组x</td>
</tr>
<tr>
<td>permutation(a)</td>
<td>根据数组a的第0轴产生一个新的乱序数组,不改变数组x</td>
</tr>
<tr>
<td>choice(a[,size,replace,p])</td>
<td>从一维数组a中以概率p抽取元素,形成size形状新数组,replace表示是否可以重用元素,默认为True</td>
</tr>
</tbody></table>
<p>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">91</span>]: a = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">92</span>]: a</span><br><span class="line">Out[<span class="number">92</span>]: </span><br><span class="line">array([[<span class="number">169</span>, <span class="number">113</span>, <span class="number">125</span>, <span class="number">113</span>],</span><br><span class="line">       [<span class="number">192</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">130</span>],</span><br><span class="line">       [<span class="number">189</span>, <span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">93</span>]: np.random.permutation(a)</span><br><span class="line">Out[<span class="number">93</span>]: </span><br><span class="line">array([[<span class="number">189</span>, <span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>],</span><br><span class="line">       [<span class="number">169</span>, <span class="number">113</span>, <span class="number">125</span>, <span class="number">113</span>],</span><br><span class="line">       [<span class="number">192</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">130</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">94</span>]: a</span><br><span class="line">Out[<span class="number">94</span>]: </span><br><span class="line">array([[<span class="number">169</span>, <span class="number">113</span>, <span class="number">125</span>, <span class="number">113</span>],</span><br><span class="line">       [<span class="number">192</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">130</span>],</span><br><span class="line">       [<span class="number">189</span>, <span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">97</span>]: np.random.shuffle(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">98</span>]: a</span><br><span class="line">Out[<span class="number">98</span>]: </span><br><span class="line">array([[<span class="number">189</span>, <span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>],</span><br><span class="line">       [<span class="number">169</span>, <span class="number">113</span>, <span class="number">125</span>, <span class="number">113</span>],</span><br><span class="line">       [<span class="number">192</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">130</span>]])</span><br><span class="line">       </span><br><span class="line"><span class="comment">#---------------------------</span></span><br><span class="line">In [<span class="number">99</span>]: b = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">8</span>,))</span><br><span class="line"></span><br><span class="line">In [<span class="number">100</span>]: b</span><br><span class="line">Out[<span class="number">100</span>]: array([<span class="number">123</span>, <span class="number">194</span>, <span class="number">111</span>, <span class="number">128</span>, <span class="number">174</span>, <span class="number">188</span>, <span class="number">109</span>, <span class="number">115</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">101</span>]: np.random.choice(b,(<span class="number">3</span>,<span class="number">2</span>))</span><br><span class="line">Out[<span class="number">101</span>]: </span><br><span class="line">array([[<span class="number">111</span>, <span class="number">123</span>],</span><br><span class="line">       [<span class="number">109</span>, <span class="number">115</span>],</span><br><span class="line">       [<span class="number">123</span>, <span class="number">128</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">102</span>]: np.random.choice(b,(<span class="number">3</span>,<span class="number">2</span>),replace=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">102</span>]: </span><br><span class="line">array([[<span class="number">188</span>, <span class="number">111</span>],</span><br><span class="line">       [<span class="number">123</span>, <span class="number">115</span>],</span><br><span class="line">       [<span class="number">174</span>, <span class="number">128</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">103</span>]: np.random.choice(b,(<span class="number">3</span>,<span class="number">2</span>),p=b/np.<span class="built_in">sum</span>(b))	<span class="comment">#数值越大,被选中的概率就越高</span></span><br><span class="line">Out[<span class="number">103</span>]: </span><br><span class="line">array([[<span class="number">194</span>, <span class="number">188</span>],</span><br><span class="line">       [<span class="number">109</span>, <span class="number">111</span>],</span><br><span class="line">       [<span class="number">174</span>, <span class="number">109</span>]])</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uniform(low,high,size)</td>
<td>产生具有均匀分布的数组,low起始值,high结束值,size形状</td>
</tr>
<tr>
<td>normal(loc,scale,size)</td>
<td>产生具有正态分布的数组,loc均值,scale标准差,size形状</td>
</tr>
<tr>
<td>poisson(lam,size)</td>
<td>产生具有泊松分布的数组,lam随机事件发生率,size形状</td>
</tr>
</tbody></table>
<p>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">104</span>]: u = np.random.uniform(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">105</span>]: u</span><br><span class="line">Out[<span class="number">105</span>]: </span><br><span class="line">array([[<span class="number">9.83020867</span>, <span class="number">4.67403279</span>, <span class="number">8.75744495</span>, <span class="number">2.96068699</span>],</span><br><span class="line">       [<span class="number">1.31291053</span>, <span class="number">8.42817933</span>, <span class="number">6.59036304</span>, <span class="number">5.95439605</span>],</span><br><span class="line">       [<span class="number">4.36353698</span>, <span class="number">3.56250327</span>, <span class="number">5.87130925</span>, <span class="number">1.49471337</span>]])</span><br><span class="line">       </span><br><span class="line">In [<span class="number">107</span>]: n = np.random.normal(<span class="number">10</span>,<span class="number">5</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">108</span>]: n</span><br><span class="line">Out[<span class="number">108</span>]: </span><br><span class="line">array([[ <span class="number">8.17771928</span>,  <span class="number">4.17423265</span>,  <span class="number">3.28465058</span>, <span class="number">17.2669643</span> ],</span><br><span class="line">       [<span class="number">10.00584724</span>,  <span class="number">9.94039808</span>, <span class="number">13.57941572</span>,  <span class="number">4.07115727</span>],</span><br><span class="line">       [ <span class="number">6.81836048</span>,  <span class="number">6.94593078</span>,  <span class="number">3.40304302</span>,  <span class="number">7.19135792</span>]])</span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-NumPy的统计函数"><a href="#1-2-4-NumPy的统计函数" class="headerlink" title="1.2.4 NumPy的统计函数"></a>1.2.4 NumPy的统计函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>sum(a, axis&#x3D;None)</td>
<td>根据给定轴axis计算数组a相关元素之和,axis整数或元组</td>
</tr>
<tr>
<td>mean(a, axis&#x3D;None)</td>
<td>根据给定轴axis计算数组a相关元素的期望,axis整数或元组</td>
</tr>
<tr>
<td>average(a,axis&#x3D;None,weights&#x3D;None)</td>
<td>根据给定轴axis计算数组a相关元素的加权平均值</td>
</tr>
<tr>
<td>std(a, axis&#x3D;None)</td>
<td>根据给定轴axis计算数组a相关元素的标准差</td>
</tr>
<tr>
<td>var(a, axis&#x3D;None)</td>
<td>根据给定轴axis计算数组a相关元素的方差</td>
</tr>
</tbody></table>
<p><strong>axis&#x3D;None 是统计函数的标配参数</strong>.关于axis(轴)对于统计函数运算的影响,可以参考下面的这篇博客.<a target="_blank" rel="noopener" href="https://blog.csdn.net/sky_kkk/article/details/79725646">https://blog.csdn.net/sky_kkk&#x2F;article&#x2F;details&#x2F;79725646</a><br>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">109</span>]: a = np.arange(<span class="number">15</span>).reshape(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">110</span>]: a</span><br><span class="line">Out[<span class="number">110</span>]: </span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">111</span>]: np.<span class="built_in">sum</span>(a)</span><br><span class="line">Out[<span class="number">111</span>]: <span class="number">105</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">112</span>]: np.mean(a,axis=<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">112</span>]: array([ <span class="number">2.</span>,  <span class="number">7.</span>, <span class="number">12.</span>])	</span><br><span class="line"></span><br><span class="line">In [<span class="number">113</span>]: np.mean(a,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">113</span>]: array([<span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>, <span class="number">8.</span>, <span class="number">9.</span>])	</span><br><span class="line"></span><br><span class="line">In [<span class="number">116</span>]: np.average(a,axis=<span class="number">0</span>,weights=[<span class="number">10</span>,<span class="number">5</span>,<span class="number">1</span>])</span><br><span class="line">Out[<span class="number">116</span>]: array([<span class="number">2.1875</span>, <span class="number">3.1875</span>, <span class="number">4.1875</span>, <span class="number">5.1875</span>, <span class="number">6.1875</span>])	<span class="comment">#4.1875 = 2*10+7*5+1*12/(10+5+1)=4.1875</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">117</span>]: np.std(a)</span><br><span class="line">Out[<span class="number">117</span>]: <span class="number">4.320493798938574</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">118</span>]: np.var(a)</span><br><span class="line">Out[<span class="number">118</span>]: <span class="number">18.666666666666668</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">119</span>]: a = np.arange(<span class="number">20</span>).reshape(<span class="number">2</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">120</span>]: a</span><br><span class="line">Out[<span class="number">120</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">        [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>],</span><br><span class="line">        [<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">121</span>]: np.<span class="built_in">sum</span>(a,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">121</span>]: </span><br><span class="line">array([[<span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">22</span>, <span class="number">24</span>, <span class="number">26</span>, <span class="number">28</span>]])</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>min(a)  max(a)</td>
<td>计算数组a中元素的最小值、最大值</td>
</tr>
<tr>
<td>argmin(a)  argmax(a)</td>
<td>计算数组a中元素最小值、最大值的降为一维后的下标</td>
</tr>
<tr>
<td>unravel_index(index, shape)</td>
<td>根据shape将一维下标index转换成多维下标</td>
</tr>
<tr>
<td>ptp(a)</td>
<td>计算数组a中元素最大值与最小值的差</td>
</tr>
<tr>
<td>median(a)</td>
<td>计算数组a中元素的中位数(中值)</td>
</tr>
</tbody></table>
<p>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">123</span>]: b = np.arange(<span class="number">15</span>,<span class="number">0</span>,-<span class="number">1</span>).reshape(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">124</span>]: b</span><br><span class="line">Out[<span class="number">124</span>]: </span><br><span class="line">array([[<span class="number">15</span>, <span class="number">14</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">11</span>],</span><br><span class="line">       [<span class="number">10</span>,  <span class="number">9</span>,  <span class="number">8</span>,  <span class="number">7</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">2</span>,  <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">125</span>]: np.<span class="built_in">max</span>(b)</span><br><span class="line">Out[<span class="number">125</span>]: <span class="number">15</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">126</span>]: np.argmax(b)</span><br><span class="line">Out[<span class="number">126</span>]: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">127</span>]: np.unravel_index(np.argmax(b),b.shape)</span><br><span class="line">Out[<span class="number">127</span>]: (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">128</span>]: np.ptp(b)</span><br><span class="line">Out[<span class="number">128</span>]: <span class="number">14</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">129</span>]: np.median(b)</span><br><span class="line">Out[<span class="number">129</span>]: <span class="number">8.0</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-5-NumPy的梯度函数"><a href="#1-2-5-NumPy的梯度函数" class="headerlink" title="1.2.5 NumPy的梯度函数"></a>1.2.5 NumPy的梯度函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>np.gradient(f)</td>
<td>计算数组f中元素的梯度,当f为多维时,返回每个维度梯度</td>
</tr>
</tbody></table>
<p>梯度:连续值之间的变化率,即斜率.<br>XY坐标轴连续三个X坐标对应的Y轴值:a, b, c,其中,b的梯度是: (c‐a)&#x2F;2.<br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B1.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter1/%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B2.png"></p>
<h1 id="第二章-数据分析之展示"><a href="#第二章-数据分析之展示" class="headerlink" title="第二章 数据分析之展示"></a>第二章 数据分析之展示</h1><h2 id="2-1-Matplotlib库入门"><a href="#2-1-Matplotlib库入门" class="headerlink" title="2.1 Matplotlib库入门"></a>2.1 Matplotlib库入门</h2><p>Matplotlib库由各种可视化类构成,内部结构复杂,受Matlab启发<br>matplotlib.pyplot是绘制各类可视化图形的命令子库,相当于快捷方式,matplotlib.pyplot模块的导入如下所示:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt	<span class="comment">#plt是约定的别名</span></span><br></pre></td></tr></table></figure>
<p>下面通过一些例子来学习Matplotlib库的使用</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>])</span><br><span class="line">plt.ylabel(<span class="string">&quot;Grade&quot;</span>)	<span class="comment">#Y轴名</span></span><br><span class="line">plt.show()				<span class="comment">#绘图</span></span><br></pre></td></tr></table></figure>
<p>上述代码所绘图形如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%B0%8F%E6%B5%8B1.png"><br>plt.plot()只有一个输入列表或数组时,参数被当作Y轴,X轴以<strong>索引</strong>自动生成.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>])</span><br><span class="line">plt.ylabel(<span class="string">&quot;Grade&quot;</span>)</span><br><span class="line">plt.savefig(<span class="string">&#x27;test&#x27;</span>,dpi=<span class="number">600</span>)	<span class="comment">#PNG文件</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>plt.savefig()将输出图形存储为文件,默认PNG格式,可以通过dpi修改输出质量.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>],[<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>])	<span class="comment">#x,y</span></span><br><span class="line">plt.ylabel(<span class="string">&quot;Grade&quot;</span>)</span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">6</span>])	<span class="comment">#列表内由左到右分别是X轴起点、终点,Y轴起点、终点.</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>上述代码所绘图形如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%B0%8F%E6%B5%8B2.png"><br>plt.plot(x,y)当有两个以上参数时,按照X轴和Y轴顺序绘制数据点.</p>
<p>pyplot的绘图区域<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/pyplot%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F.png"><br>其中,nrows为行的数量,ncols为列的数量,plot_number为要定位区域的编号.这三个变量之间逗号可省略,如上图.<br>示例如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F%E7%A4%BA%E4%BE%8B.png"></p>
<h3 id="2-1-1-pyplot的plot-函数"><a href="#2-1-1-pyplot的plot-函数" class="headerlink" title="2.1.1 pyplot的plot()函数"></a>2.1.1 pyplot的plot()函数</h3><p>plot()函数的参数如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plot%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B.png"><br>而plot()函数的原型是下面这样的：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">plot</span>(<span class="params">*args, scalex=<span class="literal">True</span>, scaley=<span class="literal">True</span>, data=<span class="literal">None</span>, **kwargs</span>)</span><br></pre></td></tr></table></figure>
<p><strong>*args接收(x,y,format_string)<strong>，可以接受一组或多组，</strong>上图中**kwargs接受第二组或更多(x,y,format_string)的表述有误</strong>。</p>
<p>format_string: 控制曲线的格式字符串,可选.由<strong>颜色字符(点线的颜色)<strong>、</strong>风格字符(线的样式)<strong>和</strong>标记字符(点的样式)<strong>组成.<br>三者可以以</strong>任意顺序</strong>组合使用.<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E9%A2%9C%E8%89%B2%E5%AD%97%E7%AC%A6.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E9%A3%8E%E6%A0%BC%E5%AD%97%E7%AC%A6.png"><br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%A0%87%E8%AE%B0%E5%AD%97%E7%AC%A6.png"><br>示例代码如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">plt.plot(a,a*<span class="number">1.5</span>,<span class="string">&#x27;go-&#x27;</span>,a,a*<span class="number">2.5</span>,<span class="string">&#x27;rx&#x27;</span>,a,a*<span class="number">3.5</span>,<span class="string">&#x27;*&#x27;</span>,a,a*<span class="number">4.5</span>,<span class="string">&#x27;b-.&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>绘制图形如下：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plot%E7%A4%BA%E4%BE%8B.png"></p>
<p>此外，还可以使用**kwargs接收其他的一些参数来实现对图形的更精确的控制，下图中所说**kwargs接受第二组或更多(x,y,format_string)同样表述有误。<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/plotkwargs.png"></p>
<h3 id="2-1-2-pyplot的中文显示"><a href="#2-1-2-pyplot的中文显示" class="headerlink" title="2.1.2 pyplot的中文显示"></a>2.1.2 pyplot的中文显示</h3><p>pyplot并不默认支持中文显示,因此需要我们采取一些方法.</p>
<p>(1).rcParams修改字体实现<br>rcParams有如下属性:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/rc%E7%9A%84%E5%B1%9E%E6%80%A7.png"><br>中文字体的种类:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93%E7%9A%84%E7%A7%8D%E7%B1%BB.png"></p>
<p>示例如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E5%AE%9E%E4%BE%8B1.png"><br>rcParams参数储存在字典变量中,通过字典的方式进行访问.</p>
<p>(2). 在有中文输出的地方,增加一个属性:fontproperties<br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E5%AE%9E%E4%BE%8B2.png"></p>
<h3 id="2-1-3-pyplot的文本显示"><a href="#2-1-3-pyplot的文本显示" class="headerlink" title="2.1.3 pyplot的文本显示"></a>2.1.3 pyplot的文本显示</h3><p>pyplot的文本显示函数如下:</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>plt.xlabel()</td>
<td>对X轴增加文本标签</td>
</tr>
<tr>
<td>plt.ylabel()</td>
<td>对Y轴增加文本标签</td>
</tr>
<tr>
<td>plt.title()</td>
<td>对图形整体增加文本标签</td>
</tr>
<tr>
<td>plt.text()</td>
<td>在任意位置增加文本</td>
</tr>
<tr>
<td>plt.annotate()</td>
<td>在图形中增加带箭头的注解</td>
</tr>
</tbody></table>
<p>示例:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴: 时间&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>,color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;纵波: 振幅&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">plt.title(<span class="string">r&#x27;正弦波实例 $y=cos(2\pi x)$&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">plt.text(<span class="number">2</span>,<span class="number">1</span>,<span class="string">r&#x27;$\mu=100$&#x27;</span>,fontsize=<span class="number">15</span>)  <span class="comment">#$内为latex表达式</span></span><br><span class="line"></span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">6</span>,-<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">plt.grid(<span class="literal">True</span>)  <span class="comment">#是否显示网格,True表示显示</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>绘制图像如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%A4%BA%E4%BE%8B1.png"></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴: 时间&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>,color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;纵波: 振幅&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">plt.title(<span class="string">r&#x27;正弦波实例 $y=cos(2\pi x)$&#x27;</span>,fontproperties=<span class="string">&#x27;SimHei&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line"><span class="comment">#xy表示箭头的起点,xytext表示文字的起点,均为元组形式.shrink参数表示箭头与前后两端的距离</span></span><br><span class="line">plt.annotate(<span class="string">r&#x27;$\mu=100$&#x27;</span>,xy=(<span class="number">2</span>,<span class="number">1</span>),xytext=(<span class="number">3</span>,<span class="number">1.5</span>),arrowprops=<span class="built_in">dict</span>(facecolor=<span class="string">&#x27;black&#x27;</span>,shrink=<span class="number">0.1</span>,width=<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">6</span>,-<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">plt.grid(<span class="literal">True</span>)  <span class="comment">#是否显示网格</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>绘制图像如下:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%A4%BA%E4%BE%8B2.png"></p>
<h3 id="2-1-4-pyplot的子绘图区域"><a href="#2-1-4-pyplot的子绘图区域" class="headerlink" title="2.1.4 pyplot的子绘图区域"></a>2.1.4 pyplot的子绘图区域</h3><p><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F.png"><br>上面图像外面的小刻度什么都不是,下面的那个ax4才是一个网格的大小.<br>示例:<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F%E7%A4%BA%E4%BE%8B.png"><br>此外还可以使用GridSpec类<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter2/GridSpec%E7%B1%BB.png"></p>
<h1 id="第三章-数据分析之概要"><a href="#第三章-数据分析之概要" class="headerlink" title="第三章 数据分析之概要"></a>第三章 数据分析之概要</h1><h2 id="3-1-Pandas库入门"><a href="#3-1-Pandas库入门" class="headerlink" title="3.1 Pandas库入门"></a>3.1 Pandas库入门</h2><h3 id="3-1-1-Pandas库的介绍"><a href="#3-1-1-Pandas库的介绍" class="headerlink" title="3.1.1 Pandas库的介绍"></a>3.1.1 Pandas库的介绍</h3><p>Pandas是Python第三方库，提供高性能易用数据类型和分析工具。<br>导入方法如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<p><strong>Pandas基于Numpy实现</strong>，常与Numpy和Matplotlib一同使用。</p>
<p>Pandas库中有来两个数据类型：<strong>Series</strong>，<strong>DataFrame</strong>。<br>此外，还有基于上述类型的各类操作：基本操作、运算操作、特征类操作、关联类操作。<br>下面我们对NumPy库和Pandas做一个对比：</p>
<table>
<thead>
<tr>
<th>Numpy</th>
<th>Pandas</th>
</tr>
</thead>
<tbody><tr>
<td>基础数据类型</td>
<td>扩展数据类型</td>
</tr>
<tr>
<td>关注数据的结构表达</td>
<td>关注数据的应用表达</td>
</tr>
<tr>
<td>维度：数据间关系</td>
<td>数据与索引间关系</td>
</tr>
</tbody></table>
<h3 id="3-1-2-Pandas库的Series类型"><a href="#3-1-2-Pandas库的Series类型" class="headerlink" title="3.1.2 Pandas库的Series类型"></a>3.1.2 Pandas库的Series类型</h3><p>Series类型由<strong>一组数据</strong>及与之相关的<strong>数据索引</strong>组成。如下：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-1.png"><br>代码示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: a = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: a</span><br><span class="line">Out[<span class="number">3</span>]: 	<span class="comment"># 自动索引</span></span><br><span class="line"><span class="number">0</span>    <span class="number">9</span></span><br><span class="line"><span class="number">1</span>    <span class="number">8</span></span><br><span class="line"><span class="number">2</span>    <span class="number">7</span></span><br><span class="line"><span class="number">3</span>    <span class="number">6</span></span><br><span class="line">dtype: int64	<span class="comment"># Numpy中数据类型</span></span><br></pre></td></tr></table></figure>
<p>由于Pandas库是基于Numpy库实现的，所以Pandas库中的数据类型实际上就是Numpy中的数据类型，比如上面代码中的int64实际上就是np.int64。<br>由上面的代码可以看出，在创建Series对象时，会生成一个由0开始的<strong>自动索引</strong>。此外，我们也可以通过下面的方式创建<strong>自定义索引</strong>：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过index参数来自定义索引</span></span><br><span class="line">In [<span class="number">5</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: b</span><br><span class="line">Out[<span class="number">6</span>]: 	<span class="comment"># 自定义索引</span></span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<p>当用<strong>Python列表</strong>创建Series类型时，自定义索引与列表值一一对应，因此，<strong>索引与值的个数应当相同</strong>，否则会报错。<br>当index参数放在第二位时，可省略index&#x3D;。</p>
<p>Series类型可以由以下类型创建：</p>
<ul>
<li>Python列表</li>
<li>标量值</li>
<li>Python字典</li>
<li>ndarray</li>
<li>其他函数</li>
</ul>
<p>用Python列表创建在前面已经举过例子了，在这里不再多说了，下面举一些其他的例子。</p>
<p>从标量值创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: s = pd.Series(<span class="number">25</span>,index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: s</span><br><span class="line">Out[<span class="number">10</span>]: </span><br><span class="line">a    <span class="number">25</span></span><br><span class="line">b    <span class="number">25</span></span><br><span class="line">c    <span class="number">25</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<p>从<strong>标量值</strong>创建Series类型时，<strong>索引的长度即为Series类型的长度</strong>。<br>**不能省略index&#x3D;**。</p>
<p>从字典类型创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">11</span>]: d = pd.Series(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">9</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">8</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">7</span>&#125;)</span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: d</span><br><span class="line">Out[<span class="number">12</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">13</span>]: e = pd.Series(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">9</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">8</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">7</span>&#125;,index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: e</span><br><span class="line">Out[<span class="number">14</span>]: </span><br><span class="line">c    <span class="number">7.0</span></span><br><span class="line">a    <span class="number">9.0</span></span><br><span class="line">b    <span class="number">8.0</span></span><br><span class="line">d    NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<p>从<strong>字典类型</strong>创建Series类型时，<strong>index从字典中进行选择操作</strong>，对于不存在的补NaN。</p>
<p>从ndarray类型创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">16</span>]: n = pd.Series(np.arange(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: n</span><br><span class="line">Out[<span class="number">17</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line"><span class="number">4</span>    <span class="number">4</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">19</span>]: m = pd.Series(np.arange(<span class="number">5</span>),index=np.arange(<span class="number">9</span>,<span class="number">4</span>,-<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">20</span>]: m</span><br><span class="line">Out[<span class="number">20</span>]: </span><br><span class="line"><span class="number">9</span>    <span class="number">0</span></span><br><span class="line"><span class="number">8</span>    <span class="number">1</span></span><br><span class="line"><span class="number">7</span>    <span class="number">2</span></span><br><span class="line"><span class="number">6</span>    <span class="number">3</span></span><br><span class="line"><span class="number">5</span>    <span class="number">4</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<p>综上，Series类型可以由一下类型创建：</p>
<ul>
<li><strong>Python列表</strong>，index与列表元素<strong>个数一致</strong></li>
<li><strong>标量值</strong>，index表达Series类型的<strong>尺寸</strong></li>
<li><strong>Python字典</strong>，键值对中的<strong>“键”是索引</strong>，index从字典中进行<strong>选择操作</strong></li>
<li><strong>ndarray</strong>，<strong>索引和数据</strong>都可以通过ndarray类型创建。</li>
<li>其他函数，range()函数等。</li>
</ul>
<p>Series类型包括<strong>index</strong>和<strong>values</strong>两部分，Series类型的操作<strong>类似ndarray类型</strong>,又类似于<strong>Python字典类型</strong>。<br>示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">21</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">22</span>]: b</span><br><span class="line">Out[<span class="number">22</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: b.index	<span class="comment"># .index获得索引，索引为Index对象</span></span><br><span class="line">Out[<span class="number">23</span>]: Index([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: b.values	<span class="comment"># .values获得数据，数据为ndarray类型</span></span><br><span class="line">Out[<span class="number">24</span>]: array([<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: b[<span class="string">&#x27;b&#x27;</span>]	<span class="comment"># 自动索引和自定义索引并存</span></span><br><span class="line">Out[<span class="number">25</span>]: <span class="number">8</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: b[<span class="number">1</span>]</span><br><span class="line">Out[<span class="number">26</span>]: <span class="number">8</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">28</span>]: b[[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="number">0</span>]]	<span class="comment"># 两套索引并存，但不能混用</span></span><br><span class="line">Out[<span class="number">28</span>]: </span><br><span class="line">c    <span class="number">7.0</span></span><br><span class="line">d    <span class="number">6.0</span></span><br><span class="line"><span class="number">0</span>    NaN</span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: b[[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;a&#x27;</span>]]</span><br><span class="line">Out[<span class="number">30</span>]: </span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<p>从上面的代码可以看出，Series由<strong>index</strong>和<strong>values</strong>两部分组成，index为Index对象，values为ndarray类型。可以理解为Series类型为在ndarray的基础上加了一套索引。<br>Series类型中<strong>自动索引和自定义索引并存，但不能混用</strong>。</p>
<p>Series类型的<strong>操作类似ndarray类型</strong>：</p>
<ul>
<li>索引方法相同，采用[]</li>
<li>NumPy运算和操作可用于Series类型</li>
<li>可以通过<strong>自定义索引的列表</strong>进行切片，注意是列表</li>
<li>可以通过<strong>自动索引</strong>进行切片，如果存在自定义索引，则一同被切片</li>
</ul>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">31</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: b</span><br><span class="line">Out[<span class="number">32</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: b[<span class="number">3</span>]	<span class="comment"># 利用单个索引取值</span></span><br><span class="line">Out[<span class="number">33</span>]: <span class="number">6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: b[:<span class="number">3</span>]	<span class="comment"># 利用自动索引进行切片</span></span><br><span class="line">Out[<span class="number">34</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">35</span>]: b[[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]]	<span class="comment"># 利用自定义索引的列表进行切片</span></span><br><span class="line">Out[<span class="number">35</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">36</span>]: b[b &gt; b.median()]	<span class="comment">#取b中大于中位数的切片</span></span><br><span class="line">Out[<span class="number">36</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<p>Series类型的<strong>操作类似Python字典类型</strong>：</p>
<ul>
<li>通过<strong>自定义索引</strong>访问</li>
<li>保留字<strong>in</strong>操作</li>
<li>使用**.get()**操作</li>
</ul>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">37</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: b[<span class="string">&#x27;b&#x27;</span>]	<span class="comment"># 通过自定义索引访问</span></span><br><span class="line">Out[<span class="number">38</span>]: <span class="number">8</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: <span class="string">&#x27;c&#x27;</span> <span class="keyword">in</span> b	<span class="comment"># Series类型保留字in只会判断自定义索引，不会判断自动索引。</span></span><br><span class="line">Out[<span class="number">39</span>]: <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: <span class="number">0</span> <span class="keyword">in</span> b</span><br><span class="line">Out[<span class="number">40</span>]: <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: b.get(<span class="string">&#x27;f&#x27;</span>,<span class="number">100</span>)	<span class="comment"># 返回索引&#x27;f&#x27;对应的值，如果没有，则返回100</span></span><br><span class="line">Out[<span class="number">41</span>]: <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>可以看出，<strong>Series类型保留字in只会判断自定义索引，不会判断自动索引</strong>。</p>
<p>Series类型<strong>在运算中会自动对齐不同索引的数据</strong>。<br>示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">42</span>]: a = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">44</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: a + b</span><br><span class="line">Out[<span class="number">45</span>]: </span><br><span class="line">a    NaN</span><br><span class="line">b    NaN</span><br><span class="line">c    <span class="number">8.0</span></span><br><span class="line">d    <span class="number">8.0</span></span><br><span class="line">e    NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>

<p>Series对象和索引都可以有一个名字，存储在属性.name中。<br>示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">46</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">47</span>]: b.name	<span class="comment"># 此时name属性为空</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">48</span>]: b.name = <span class="string">&#x27;Series对象&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">49</span>]: b.index.name = <span class="string">&#x27;索引列&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: b</span><br><span class="line">Out[<span class="number">50</span>]: </span><br><span class="line">索引列</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: Series对象, dtype: int64</span><br></pre></td></tr></table></figure>

<p>Series类型可以<strong>随时修改并即刻生效</strong>。<br>示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">52</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">53</span>]: b[<span class="string">&#x27;a&#x27;</span>] = <span class="number">15</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">54</span>]: b.name = <span class="string">&#x27;Series&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">55</span>]: b</span><br><span class="line">Out[<span class="number">55</span>]: </span><br><span class="line">a    <span class="number">15</span></span><br><span class="line">b     <span class="number">8</span></span><br><span class="line">c     <span class="number">7</span></span><br><span class="line">d     <span class="number">6</span></span><br><span class="line">Name: Series, dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">56</span>]: b.name = <span class="string">&#x27;New Series&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: b[<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>] = <span class="number">20</span>	<span class="comment"># 不能通过这种方式切片，却能通过这种方式赋值，有趣</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">59</span>]: b</span><br><span class="line">Out[<span class="number">59</span>]: </span><br><span class="line">a    <span class="number">15</span></span><br><span class="line">b    <span class="number">20</span></span><br><span class="line">c    <span class="number">20</span></span><br><span class="line">d     <span class="number">6</span></span><br><span class="line">Name: New Series, dtype: int64</span><br></pre></td></tr></table></figure>

<p>综上，Series是<strong>一维带“标签”数组</strong>。Series<strong>基本操作类似ndarray和字典，根据索引对齐</strong>。</p>
<h3 id="3-1-3-Pandas库的DataFrame类型"><a href="#3-1-3-Pandas库的DataFrame类型" class="headerlink" title="3.1.3 Pandas库的DataFrame类型"></a>3.1.3 Pandas库的DataFrame类型</h3><p>DataFrame类型由<strong>共用相同索引的一组列</strong>组成。如下图所示：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-2.png"><br>上图中的column应该改为columns。<br>DataFrame是一个表格型的数据类型，每列值类型可以不同。<br>DataFrame既有<strong>行索引（index）</strong>、也有<strong>列索引（columns）</strong>。行索引的<strong>轴（axis）</strong>为0，列索引的为1。<br>DaraFrame常用于表达二维数据，但也可以表示多维数据。</p>
<p>DataFrame类型可以由以下类型创建：</p>
<ul>
<li>二维ndarray对象</li>
<li>由一维ndarray、列表、字典、元组或Series构成的字典</li>
<li>Series类型</li>
<li>其他的DataFrame类型</li>
</ul>
<p>从<strong>二维ndarray对象</strong>创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">60</span>]: d = pd.DataFrame(np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">61</span>]: d	<span class="comment"># 自动行索引与自动列索引</span></span><br><span class="line">Out[<span class="number">61</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span></span><br></pre></td></tr></table></figure>

<p>从<strong>一维ndarray对象字典</strong>创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">62</span>]: dt = &#123;<span class="string">&#x27;one&#x27;</span>:pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]),</span><br><span class="line">    ...: <span class="string">&#x27;two&#x27;</span>:pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">63</span>]: d = pd.DataFrame(dt)</span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: d	<span class="comment"># 自定义行索引与自定义列索引</span></span><br><span class="line">Out[<span class="number">64</span>]: </span><br><span class="line">   one  two</span><br><span class="line">a  <span class="number">1.0</span>    <span class="number">9</span></span><br><span class="line">b  <span class="number">2.0</span>    <span class="number">8</span></span><br><span class="line">c  <span class="number">3.0</span>    <span class="number">7</span></span><br><span class="line">d  NaN    <span class="number">6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">66</span>]: pd.DataFrame(dt,index=[<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>],columns=[<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>])</span><br><span class="line">Out[<span class="number">66</span>]: 	<span class="comment"># 数据根据行列索引自动补齐</span></span><br><span class="line">   two three</span><br><span class="line">b    <span class="number">8</span>   NaN</span><br><span class="line">c    <span class="number">7</span>   NaN</span><br><span class="line">d    <span class="number">6</span>   NaN</span><br></pre></td></tr></table></figure>
<p>之前说过，DataFrame类型由<strong>共用相同索引的一组列</strong>组成。因此采用<strong>Series类型的字典</strong>构建DataFrame类型时，<strong>字典中的Series中作为DataFrame中的列</strong>。</p>
<p>从<strong>列表类型的字典</strong>创建：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">67</span>]: dl = &#123;<span class="string">&#x27;one&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="string">&#x27;two&#x27;</span>:[<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">68</span>]: d = pd.DataFrame(dl,index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: d	<span class="comment"># 同理，列表也是作为DataFrame中的列</span></span><br><span class="line">Out[<span class="number">69</span>]: </span><br><span class="line">   one  two</span><br><span class="line">a    <span class="number">1</span>    <span class="number">9</span></span><br><span class="line">b    <span class="number">2</span>    <span class="number">8</span></span><br><span class="line">c    <span class="number">3</span>    <span class="number">7</span></span><br><span class="line">d    <span class="number">4</span>    <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p>看下面一段代码示例：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">72</span>]: dl = &#123;<span class="string">&#x27;城市&#x27;</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广州&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;沈阳&#x27;</span>],</span><br><span class="line">    ...: <span class="string">&#x27;环比&#x27;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line">    ...: <span class="string">&#x27;同比&#x27;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line">    ...: <span class="string">&#x27;定基&#x27;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">73</span>]: d = pd.DataFrame(dl,index=[<span class="string">&#x27;c1&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>,<span class="string">&#x27;c5&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">74</span>]: d</span><br><span class="line">Out[<span class="number">74</span>]: </span><br><span class="line">    城市     环比     同比     定基</span><br><span class="line">c1  北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">c2  上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">c3  广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">c4  深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">c5  沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">75</span>]: d.index	<span class="comment"># 行索引，Index类型</span></span><br><span class="line">Out[<span class="number">75</span>]: Index([<span class="string">&#x27;c1&#x27;</span>, <span class="string">&#x27;c2&#x27;</span>, <span class="string">&#x27;c3&#x27;</span>, <span class="string">&#x27;c4&#x27;</span>, <span class="string">&#x27;c5&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">76</span>]: d.columns	<span class="comment"># 列索引，Index类型</span></span><br><span class="line">Out[<span class="number">76</span>]: Index([<span class="string">&#x27;城市&#x27;</span>, <span class="string">&#x27;环比&#x27;</span>, <span class="string">&#x27;同比&#x27;</span>, <span class="string">&#x27;定基&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">77</span>]: d.values	<span class="comment"># ndarray类型</span></span><br><span class="line">Out[<span class="number">77</span>]: </span><br><span class="line">array([[<span class="string">&#x27;北京&#x27;</span>, <span class="number">101.5</span>, <span class="number">120.7</span>, <span class="number">121.4</span>],</span><br><span class="line">       [<span class="string">&#x27;上海&#x27;</span>, <span class="number">101.2</span>, <span class="number">127.3</span>, <span class="number">127.8</span>],</span><br><span class="line">       [<span class="string">&#x27;广州&#x27;</span>, <span class="number">101.3</span>, <span class="number">119.4</span>, <span class="number">120.0</span>],</span><br><span class="line">       [<span class="string">&#x27;深圳&#x27;</span>, <span class="number">102.0</span>, <span class="number">140.9</span>, <span class="number">145.5</span>],</span><br><span class="line">       [<span class="string">&#x27;沈阳&#x27;</span>, <span class="number">100.1</span>, <span class="number">101.4</span>, <span class="number">101.6</span>]], dtype=<span class="built_in">object</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">78</span>]: d[<span class="string">&#x27;同比&#x27;</span>]	<span class="comment"># 取一列，Series类型</span></span><br><span class="line">Out[<span class="number">78</span>]: </span><br><span class="line">c1    <span class="number">120.7</span></span><br><span class="line">c2    <span class="number">127.3</span></span><br><span class="line">c3    <span class="number">119.4</span></span><br><span class="line">c4    <span class="number">140.9</span></span><br><span class="line">c5    <span class="number">101.4</span></span><br><span class="line">Name: 同比, dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">79</span>]: d.loc[<span class="string">&#x27;c2&#x27;</span>]	<span class="comment"># 取一行，Series类型</span></span><br><span class="line">Out[<span class="number">79</span>]: </span><br><span class="line">城市       上海</span><br><span class="line">环比    <span class="number">101.2</span></span><br><span class="line">同比    <span class="number">127.3</span></span><br><span class="line">定基    <span class="number">127.8</span></span><br><span class="line">Name: c2, dtype: <span class="built_in">object</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">80</span>]: d[<span class="string">&#x27;同比&#x27;</span>][<span class="string">&#x27;c2&#x27;</span>]	<span class="comment"># 取单个值</span></span><br><span class="line">Out[<span class="number">80</span>]: <span class="number">127.3</span></span><br></pre></td></tr></table></figure>
<p>由上面的代码可以看出，<strong>DataFrame的每一行或每一列均为Series对象</strong>。<br>并且采用类似d[‘同比’]这种方式来访问DataFrame对象时，所获得的是索引为’同比’的<strong>一列</strong>。如果我们想要获取某行的话该怎么做呢？可以使用.loc或.iloc。下面对其进行介绍。<br><strong>.loc</strong>在<strong>自定义索引</strong>的基础上工作。<br><strong>.iloc</strong>在<strong>自动索引</strong>上进行工作，因此只能是整数。这里的i就是integer的意思。<br>下面请看看示例代码：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">84</span>]: dl = &#123;<span class="string">&#x27;城市&#x27;</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广州&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;沈阳&#x27;</span>],</span><br><span class="line">    ...: <span class="string">&#x27;环比&#x27;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line">    ...: <span class="string">&#x27;同比&#x27;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line">    ...: <span class="string">&#x27;定基&#x27;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line">    </span><br><span class="line">In [<span class="number">85</span>]: c = pd.DataFrame(dl,index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">86</span>]: c</span><br><span class="line">    ...: </span><br><span class="line">Out[<span class="number">86</span>]: 	<span class="comment"># 因为字典中的数据是没有顺序的，所以这里的顺序可能跟字典中的不一样</span></span><br><span class="line">   城市     环比     同比     定基</span><br><span class="line"><span class="number">1</span>  北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line"><span class="number">2</span>  上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line"><span class="number">3</span>  广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line"><span class="number">4</span>  深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line"><span class="number">5</span>  沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">87</span>]: c.loc[<span class="number">1</span>]	<span class="comment"># 根据自定义索引获取一行</span></span><br><span class="line">Out[<span class="number">87</span>]: </span><br><span class="line">城市       北京</span><br><span class="line">环比    <span class="number">101.5</span></span><br><span class="line">同比    <span class="number">120.7</span></span><br><span class="line">定基    <span class="number">121.4</span></span><br><span class="line">Name: <span class="number">1</span>, dtype: <span class="built_in">object</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">88</span>]: c.iloc[<span class="number">1</span>]	<span class="comment"># 根据自动索引获取一行</span></span><br><span class="line">Out[<span class="number">88</span>]: </span><br><span class="line">城市       上海</span><br><span class="line">环比    <span class="number">101.2</span></span><br><span class="line">同比    <span class="number">127.3</span></span><br><span class="line">定基    <span class="number">127.8</span></span><br><span class="line">Name: <span class="number">2</span>, dtype: <span class="built_in">object</span></span><br></pre></td></tr></table></figure>

<p>综上，DataFrame是<strong>二维带“标签”数组</strong>。DataFrame基本操作类似Series，依据行列索引。</p>
<h3 id="3-1-4-Pandas库的数据类型操作"><a href="#3-1-4-Pandas库的数据类型操作" class="headerlink" title="3.1.4 Pandas库的数据类型操作"></a>3.1.4 Pandas库的数据类型操作</h3><p>下面介绍一些改变Series和DataFrame对象的方法：</p>
<ul>
<li>增加或重排：重新索引</li>
<li>删除：drop</li>
</ul>
<p>**.reindex()**能够改变或重排Series和DataFrame索引。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">93</span>]: dl = &#123;<span class="string">&#x27;城市&#x27;</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广州&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;沈阳&#x27;</span>],</span><br><span class="line">    ...: <span class="string">&#x27;环比&#x27;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line">    ...: <span class="string">&#x27;同比&#x27;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line">    ...: <span class="string">&#x27;定基&#x27;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">94</span>]: d = pd.DataFrame(dl,index=[<span class="string">&#x27;c1&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>,<span class="string">&#x27;c5&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">95</span>]: d</span><br><span class="line">Out[<span class="number">95</span>]: </span><br><span class="line">    城市     环比     同比     定基</span><br><span class="line">c1  北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">c2  上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">c3  广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">c4  深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">c5  沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过指定index来重排</span></span><br><span class="line">In [<span class="number">98</span>]: d = d.reindex(index=[<span class="string">&#x27;c5&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c1&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">99</span>]: d</span><br><span class="line">Out[<span class="number">99</span>]: </span><br><span class="line">    城市     环比     同比     定基</span><br><span class="line">c5  沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过指定columns来重排</span></span><br><span class="line">In [<span class="number">101</span>]: d = d.reindex(columns=[<span class="string">&#x27;城市&#x27;</span>,<span class="string">&#x27;同比&#x27;</span>,<span class="string">&#x27;环比&#x27;</span>,<span class="string">&#x27;定基&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">102</span>]: d</span><br><span class="line">Out[<span class="number">102</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br></pre></td></tr></table></figure>

<p>.reindex()函数有如下参数：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>index, columns</td>
<td>新的行列自定义索引</td>
</tr>
<tr>
<td>fill_value</td>
<td>重新索引中,用于填充缺失位置的值</td>
</tr>
<tr>
<td>method</td>
<td>填充方法, ‘ffill’前向填充（利用前面的值填充当前值）,’bfill’后向填充（利用后面的值填充当前值）</td>
</tr>
<tr>
<td>limit</td>
<td>最大填充量</td>
</tr>
<tr>
<td>copy</td>
<td>默认True,生成新的对象,False时,新旧相等不复制</td>
</tr>
</tbody></table>
<p>下面通过一些例子来看看这些参数的用法：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">103</span>]: d</span><br><span class="line">Out[<span class="number">103</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在列索引的位置4上插入一个&#x27;新增&#x27;</span></span><br><span class="line">In [<span class="number">104</span>]: newc = d.columns.insert(<span class="number">4</span>,<span class="string">&#x27;新增&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 置填充值为200</span></span><br><span class="line">In [<span class="number">105</span>]: newd = d.reindex(columns=newc,fill_value=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">106</span>]: newd</span><br><span class="line">Out[<span class="number">106</span>]: </span><br><span class="line">    城市     同比     环比     定基   新增</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span>  <span class="number">200</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span>  <span class="number">200</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span>  <span class="number">200</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span>  <span class="number">200</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span>  <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>Series和DataFrame的索引是Index类型。<strong>Index对象是不可修改类型</strong>。<br>Index类型的常用方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.append(idx)</td>
<td>连接另一个Index对象,产生新的Index对象</td>
</tr>
<tr>
<td>.diff(idx)</td>
<td>计算差集,产生新的Index对象</td>
</tr>
<tr>
<td>.intersection(idx)</td>
<td>计算交集,产生新的Index对象</td>
</tr>
<tr>
<td>.union(idx)</td>
<td>计算并集,产生新的Index对象</td>
</tr>
<tr>
<td>.delete(loc)</td>
<td>删除loc位置处的元素,产生新的Index对象</td>
</tr>
<tr>
<td>.insert(loc,e)</td>
<td>在loc位置增加一个元素e,产生新的Index对象</td>
</tr>
</tbody></table>
<p>上面的这些方法均不改变原Index对象的值，而是产生新的Index对象。</p>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">128</span>]: d</span><br><span class="line">Out[<span class="number">128</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">129</span>]: nc = d.columns.delete(<span class="number">2</span>)	<span class="comment"># 删除位置2处的列索引</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">130</span>]: ni = d.index.insert(<span class="number">5</span>,<span class="string">&#x27;c0&#x27;</span>)	<span class="comment"># 在行索引的位置5处插入&#x27;c0&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">131</span>]: nd = d.reindex(index=ni,columns=nc).ffill()	<span class="comment"># 重新索引，也有.bfill()</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">132</span>]: nd</span><br><span class="line">Out[<span class="number">132</span>]: </span><br><span class="line">    城市     同比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">c0  北京  <span class="number">120.7</span>  <span class="number">121.4</span></span><br></pre></td></tr></table></figure>
<p>在这里有一个问题，上面In[131]的那句代码，嵩老师是向下面这样写的：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nd = d.reindex(index=ni,columns=nc,method=<span class="string">&#x27;ffill&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>这样的话会报下面的错误。ValueError: index must be monotonic increasing or decreasing。具体原因我也不清楚，也没理解这句话的意思。但是只要改为In[131]处的那样就能够正常运行了。<br>下面还有一段示例代码：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">133</span>]: d.reindex(index=ni,method=<span class="string">&#x27;ffill&#x27;</span>)</span><br><span class="line">Out[<span class="number">133</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line">c0  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 报错，改为nd = d.reindex(columns=nc).ffill()后正常运行</span></span><br><span class="line">In [<span class="number">134</span>]: nd = d.reindex(columns=nc,method=<span class="string">&#x27;ffill&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>用method参数的话时不时会报错，以后还是不用method参数，用**.ffill()<strong>或</strong>.bfill()**的形式吧。</p>
<p>**.drop()**能够删除Series和DataFrame指定行或列索引。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">136</span>]: d</span><br><span class="line">Out[<span class="number">136</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">137</span>]: d.drop(<span class="string">&#x27;c5&#x27;</span>)	<span class="comment"># DataFrame，默认在0轴进行操作</span></span><br><span class="line">Out[<span class="number">137</span>]: </span><br><span class="line">    城市     同比     环比     定基</span><br><span class="line">c4  深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">138</span>]: d.drop(<span class="string">&#x27;同比&#x27;</span>,axis=<span class="number">1</span>)	<span class="comment"># 如果要在1轴上进行操作，须指定axis参数为1</span></span><br><span class="line">Out[<span class="number">138</span>]: </span><br><span class="line">    城市     环比     定基</span><br><span class="line">c5  沈阳  <span class="number">100.1</span>  <span class="number">101.6</span></span><br><span class="line">c4  深圳  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">c3  广州  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">c2  上海  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">c1  北京  <span class="number">101.5</span>  <span class="number">121.4</span></span><br></pre></td></tr></table></figure>
<p>值得注意的是，<strong>DataFrame上的大多数操作都是默认在0轴上进行的</strong>，如果想要对1轴进行操作，需要<strong>指定axis参数为1</strong>。这一点在3.2中表现的尤为明显。<br>另外，要区分开前面的Index.delete()与这里的.drop()。.delete()方法作用对象为Index对象，而.drop()方法作用于Series和DataFrame对象。</p>
<h3 id="3-1-5-Pandas库的数据类型运算"><a href="#3-1-5-Pandas库的数据类型运算" class="headerlink" title="3.1.5 Pandas库的数据类型运算"></a>3.1.5 Pandas库的数据类型运算</h3><p>Pandas库有如下的<strong>算术运算法则</strong>：</p>
<ul>
<li>算术运算<strong>根据行列索引，补齐后运算</strong>，运算<strong>默认产生浮点数</strong></li>
<li>补齐后缺项填充<strong>NaN（空值）</strong></li>
<li>二维和一维、一维和零维间为<strong>广播运算</strong>。</li>
<li>采用+  -  *  &#x2F;  符号进行的二元运算<strong>产生新的对象</strong></li>
</ul>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">3</span>]: a = pd.DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: a</span><br><span class="line">Out[<span class="number">4</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: b</span><br><span class="line">Out[<span class="number">6</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自动补齐，缺项补NaN</span></span><br><span class="line">In [<span class="number">7</span>]: a + b</span><br><span class="line">Out[<span class="number">7</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">2.0</span>   <span class="number">4.0</span>   <span class="number">6.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span>  <span class="number">15.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">18.0</span>  <span class="number">20.0</span>  <span class="number">22.0</span>  <span class="number">24.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN   NaN   NaN NaN</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: a * b</span><br><span class="line">Out[<span class="number">8</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">1.0</span>    <span class="number">4.0</span>    <span class="number">9.0</span> NaN</span><br><span class="line"><span class="number">1</span>  <span class="number">20.0</span>  <span class="number">30.0</span>   <span class="number">42.0</span>   <span class="number">56.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">80.0</span>  <span class="number">99.0</span>  <span class="number">120.0</span>  <span class="number">143.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN    NaN    NaN NaN</span><br></pre></td></tr></table></figure>

<p>此外，在Pandas中还提供了如下的方法形式的运算：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.add(d, **argws)</td>
<td>类型间加法运算,可选参数</td>
</tr>
<tr>
<td>.sub(d, **argws)</td>
<td>类型间减法运算,可选参数</td>
</tr>
<tr>
<td>.mul(d, **argws)</td>
<td>类型间乘法运算,可选参数</td>
</tr>
<tr>
<td>.div(d, **argws)</td>
<td>类型间除法运算,可选参数</td>
</tr>
</tbody></table>
<p>既然能够使用二元运算符进行计算，为什么Pandas还要提供方法形式的运算呢?<br>这是因为方法形式的运算有一些可选参数，能够满足用户一些特别的需要。<br>下面看示例代码：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: a</span><br><span class="line">Out[<span class="number">9</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: b</span><br><span class="line">Out[<span class="number">10</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># fill_value参数替代NaN，替代后参与运算</span></span><br><span class="line">In [<span class="number">11</span>]: b.add(a,fill_value=<span class="number">100</span>)</span><br><span class="line">Out[<span class="number">11</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span>      <span class="number">4</span></span><br><span class="line"><span class="number">0</span>    <span class="number">0.0</span>    <span class="number">2.0</span>    <span class="number">4.0</span>    <span class="number">6.0</span>  <span class="number">104.0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">9.0</span>   <span class="number">11.0</span>   <span class="number">13.0</span>   <span class="number">15.0</span>  <span class="number">109.0</span></span><br><span class="line"><span class="number">2</span>   <span class="number">18.0</span>   <span class="number">20.0</span>   <span class="number">22.0</span>   <span class="number">24.0</span>  <span class="number">114.0</span></span><br><span class="line"><span class="number">3</span>  <span class="number">115.0</span>  <span class="number">116.0</span>  <span class="number">117.0</span>  <span class="number">118.0</span>  <span class="number">119.0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: a.mul(b,fill_value=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">12</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span>    <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">1.0</span>    <span class="number">4.0</span>    <span class="number">9.0</span>  <span class="number">0.0</span></span><br><span class="line"><span class="number">1</span>  <span class="number">20.0</span>  <span class="number">30.0</span>   <span class="number">42.0</span>   <span class="number">56.0</span>  <span class="number">0.0</span></span><br><span class="line"><span class="number">2</span>  <span class="number">80.0</span>  <span class="number">99.0</span>  <span class="number">120.0</span>  <span class="number">143.0</span>  <span class="number">0.0</span></span><br><span class="line"><span class="number">3</span>   <span class="number">0.0</span>   <span class="number">0.0</span>    <span class="number">0.0</span>    <span class="number">0.0</span>  <span class="number">0.0</span></span><br></pre></td></tr></table></figure>

<p>不同维度间为<strong>广播运算</strong>，一维Series与DataFrame进行运算时<strong>默认在轴1进行匹配，即按照列匹配，在每一行上进行运算</strong>。<br>代码示例如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">13</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: b</span><br><span class="line">Out[<span class="number">14</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: c = pd.Series(np.arange(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: c</span><br><span class="line">Out[<span class="number">16</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 广播运算</span></span><br><span class="line">In [<span class="number">17</span>]: c - <span class="number">10</span></span><br><span class="line">Out[<span class="number">17</span>]: </span><br><span class="line"><span class="number">0</span>   -<span class="number">10</span></span><br><span class="line"><span class="number">1</span>    -<span class="number">9</span></span><br><span class="line"><span class="number">2</span>    -<span class="number">8</span></span><br><span class="line"><span class="number">3</span>    -<span class="number">7</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 广播运算，在轴1上进行匹配</span></span><br><span class="line">In [<span class="number">18</span>]: b - c</span><br><span class="line">Out[<span class="number">18</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">0.0</span>   <span class="number">0.0</span>   <span class="number">0.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">5.0</span>   <span class="number">5.0</span>   <span class="number">5.0</span>   <span class="number">5.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">10.0</span>  <span class="number">10.0</span>  <span class="number">10.0</span>  <span class="number">10.0</span> NaN</span><br><span class="line"><span class="number">3</span>  <span class="number">15.0</span>  <span class="number">15.0</span>  <span class="number">15.0</span>  <span class="number">15.0</span> NaN</span><br></pre></td></tr></table></figure>

<p>使用运算方法可以令一维Series参与轴0运算。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">19</span>]: b</span><br><span class="line">Out[<span class="number">19</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">20</span>]: c</span><br><span class="line">Out[<span class="number">20</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定匹配的轴为0,即按照行匹配，在每一列上进行计算</span></span><br><span class="line">In [<span class="number">21</span>]: b.sub(c,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">21</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span></span><br><span class="line"><span class="number">2</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span></span><br><span class="line"><span class="number">3</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">22</span>]: b.sub(c,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>除了算术运算法则外，Pandas库还有如下的<strong>比较运算法则</strong>：</p>
<ul>
<li>比较运算只能比较相同索引的元素，<strong>不进行补齐</strong></li>
<li>二维和一维、一维和零维（即常数）间为<strong>广播运算</strong></li>
<li>采用&gt;    &lt;   &gt;&#x3D;    &lt;&#x3D;    &#x3D;&#x3D;    !&#x3D;等符号进行的二元运算符<strong>产生布尔对象</strong></li>
</ul>
<p>由于比较运算不进行补齐，因此进行运算的必须是<strong>相同尺寸</strong>,否则会报错。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">23</span>]: a = pd.DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: a</span><br><span class="line">Out[<span class="number">24</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: d = pd.DataFrame(np.arange(<span class="number">12</span>,<span class="number">0</span>,-<span class="number">1</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: d</span><br><span class="line">Out[<span class="number">26</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">12</span>  <span class="number">11</span>  <span class="number">10</span>  <span class="number">9</span></span><br><span class="line"><span class="number">1</span>   <span class="number">8</span>   <span class="number">7</span>   <span class="number">6</span>  <span class="number">5</span></span><br><span class="line"><span class="number">2</span>   <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>  <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 同维度运算，尺寸一致</span></span><br><span class="line">In [<span class="number">27</span>]: a &gt; d</span><br><span class="line">Out[<span class="number">27</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">28</span>]: a == d</span><br><span class="line">Out[<span class="number">28</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">True</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">2</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>如果是不同维度之间的比较运算，广播运算，对DataFrame类型来说，<strong>默认在1轴进行匹配，即按列匹配，对每行进行运算</strong>。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">31</span>]: a</span><br><span class="line">Out[<span class="number">31</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: c = pd.Series(np.arange(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: c</span><br><span class="line">Out[<span class="number">33</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 广播运算，默认按轴1进行匹配</span></span><br><span class="line">In [<span class="number">34</span>]: a &gt; c</span><br><span class="line">Out[<span class="number">34</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 广播运算</span></span><br><span class="line">In [<span class="number">35</span>]: c &gt; <span class="number">0</span></span><br><span class="line">Out[<span class="number">35</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>     <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>     <span class="literal">True</span></span><br><span class="line"><span class="number">3</span>     <span class="literal">True</span></span><br><span class="line">dtype: <span class="built_in">bool</span></span><br></pre></td></tr></table></figure>

<p>对于Pandas库，要理解数据类型与索引的关系，<strong>操作索引即操作数据</strong>。对于Pandas上的操作与运算，主要讲了如下几种：重新索引、数据删除、算术运算、比较运算。</p>
<h2 id="3-2-Pandas数据特征分析"><a href="#3-2-Pandas数据特征分析" class="headerlink" title="3.2 Pandas数据特征分析"></a>3.2 Pandas数据特征分析</h2><h3 id="3-2-1-数据的排序"><a href="#3-2-1-数据的排序" class="headerlink" title="3.2.1 数据的排序"></a>3.2.1 数据的排序</h3><p>一组数据可以表达一个或多个含义，因此对一组数据的理解也多种多样。如下：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-3.png"><br><strong>.sort_index()<strong>方法在指定轴上根据</strong>索引</strong>进行排序，默认升序。该函数的参数如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认轴为0,升序</span></span><br><span class="line">.sort_index(axis=<span class="number">0</span>,ascending=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">36</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>),index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">37</span>]: b</span><br><span class="line">Out[<span class="number">37</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: b.sort_index()</span><br><span class="line">Out[<span class="number">38</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: b.sort_index(ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">39</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: c = pd.Series(np.arange(<span class="number">4</span>),index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: c</span><br><span class="line">Out[<span class="number">41</span>]: </span><br><span class="line">c    <span class="number">0</span></span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">d    <span class="number">2</span></span><br><span class="line">b    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">42</span>]: c.sort_index()</span><br><span class="line">Out[<span class="number">42</span>]: </span><br><span class="line">a    <span class="number">1</span></span><br><span class="line">b    <span class="number">3</span></span><br><span class="line">c    <span class="number">0</span></span><br><span class="line">d    <span class="number">2</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>

<p><strong>.sort_values()<strong>方法在指定轴上根据</strong>数值</strong>进行排序，默认升序。<br>Series与DataFrame中的.sort_values()方法略有不同。如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Series.sort_values(axis=<span class="number">0</span>,  ascending=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># by为axis轴上的某个索引或索引列表</span></span><br><span class="line">DataFrame.sort_values(by,  axis=<span class="number">0</span>,  ascending=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>by与axis的关系可能会让人比较迷惑，我在这里说一下。<br>当axis&#x3D;0时，<strong>对0轴进行排序，即对行进行排序</strong>，这时需要指定<strong>一个或多个列</strong>，通过该列中的数据大小来对行进行排序。<br>当axis&#x3D;1时，<strong>对1轴进行排序，即对列进行排序</strong>，这时需要指定<strong>一个或多个行</strong>，通过该行中的数据大小来对列进行排序<br>代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">44</span>]: b</span><br><span class="line">Out[<span class="number">44</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对0轴排序，指定一列</span></span><br><span class="line">In [<span class="number">45</span>]: b.sort_values(<span class="number">2</span>,ascending = <span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">45</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对1轴排序，指定一行</span></span><br><span class="line">In [<span class="number">46</span>]: b.sort_values(<span class="string">&#x27;a&#x27;</span>,axis=<span class="number">1</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">46</span>]: </span><br><span class="line">    <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">c   <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">a   <span class="number">9</span>   <span class="number">8</span>   <span class="number">7</span>   <span class="number">6</span>   <span class="number">5</span></span><br><span class="line">d  <span class="number">14</span>  <span class="number">13</span>  <span class="number">12</span>  <span class="number">11</span>  <span class="number">10</span></span><br><span class="line">b  <span class="number">19</span>  <span class="number">18</span>  <span class="number">17</span>  <span class="number">16</span>  <span class="number">15</span></span><br></pre></td></tr></table></figure>

<p>在Pandas库的数据排序中，<strong>NaN统一放到排序末尾</strong>。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">51</span>]: a = pd.DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">53</span>]: c = a + b</span><br><span class="line"></span><br><span class="line">In [<span class="number">54</span>]: c</span><br><span class="line">Out[<span class="number">54</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">2.0</span>   <span class="number">4.0</span>   <span class="number">6.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span>  <span class="number">15.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">18.0</span>  <span class="number">20.0</span>  <span class="number">22.0</span>  <span class="number">24.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN   NaN   NaN NaN</span><br><span class="line"></span><br><span class="line"><span class="comment"># 降序</span></span><br><span class="line">In [<span class="number">55</span>]: c.sort_values(<span class="number">2</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">55</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">2</span>  <span class="number">18.0</span>  <span class="number">20.0</span>  <span class="number">22.0</span>  <span class="number">24.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span>  <span class="number">15.0</span> NaN</span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">2.0</span>   <span class="number">4.0</span>   <span class="number">6.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN   NaN   NaN NaN</span><br><span class="line"></span><br><span class="line"><span class="comment"># 升序</span></span><br><span class="line">In [<span class="number">56</span>]: c.sort_values(<span class="number">2</span>,ascending=<span class="literal">True</span>)</span><br><span class="line">Out[<span class="number">56</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">2.0</span>   <span class="number">4.0</span>   <span class="number">6.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span>  <span class="number">15.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">18.0</span>  <span class="number">20.0</span>  <span class="number">22.0</span>  <span class="number">24.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN   NaN   NaN NaN</span><br></pre></td></tr></table></figure>
<p>可以看到，不管是升序还是降序，NaN均排在最后。</p>
<h3 id="3-2-2-数据的基本统计分析"><a href="#3-2-2-数据的基本统计分析" class="headerlink" title="3.2.2 数据的基本统计分析"></a>3.2.2 数据的基本统计分析</h3><p>Pandas库中有许多基本的统计分析函数，下面这些均<strong>适用于Series和DataFrame类型</strong>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.sum()</td>
<td>计算数据的总和,<strong>按0轴计算，下同</strong></td>
</tr>
<tr>
<td>.count()</td>
<td>非NaN值的数量</td>
</tr>
<tr>
<td>.mean() .median()</td>
<td>计算数据的算术平均值、算术中位数</td>
</tr>
<tr>
<td>.var()  .std()</td>
<td>计算数据的方差、标准差</td>
</tr>
<tr>
<td>.min()  .max()</td>
<td>计算数据的最小值、最大值</td>
</tr>
<tr>
<td>.describe()</td>
<td>针对0轴(各列)的统计汇总</td>
</tr>
</tbody></table>
<p>此外，还有一些仅适用于Series类型的基本统计分析函数。如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.argmin()  .argmax()</td>
<td>计算数据最大值、最小值所在位置的索引位置(自动索引)</td>
</tr>
<tr>
<td>.idxmin()  .idxmax()</td>
<td>计算数据最大值、最小值所在位置的索引(自定义索引)</td>
</tr>
</tbody></table>
<p>下面重点介绍一下**.describe()**函数。先从Series类型的开始。<br><strong>Series类型调用.describe()函数后返回的结果也是Series类型</strong>,因此可以用访问Series对象的方式对其进行访问。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">57</span>]: a = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: a</span><br><span class="line">Out[<span class="number">58</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">59</span>]: a.describe()</span><br><span class="line">Out[<span class="number">59</span>]: </span><br><span class="line">count    <span class="number">4.000000</span></span><br><span class="line">mean     <span class="number">7.500000</span></span><br><span class="line">std      <span class="number">1.290994</span></span><br><span class="line"><span class="built_in">min</span>      <span class="number">6.000000</span></span><br><span class="line"><span class="number">25</span>%      <span class="number">6.750000</span></span><br><span class="line"><span class="number">50</span>%      <span class="number">7.500000</span></span><br><span class="line"><span class="number">75</span>%      <span class="number">8.250000</span></span><br><span class="line"><span class="built_in">max</span>      <span class="number">9.000000</span></span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以看到，Series类型调用.describe()函数后返回的结果也是Series类型</span></span><br><span class="line">In [<span class="number">60</span>]: <span class="built_in">type</span>(a.describe())</span><br><span class="line">Out[<span class="number">60</span>]: pandas.core.series.Series</span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于是Series类型，所以可以用访问Series对象的方式对其进行访问</span></span><br><span class="line">In [<span class="number">61</span>]: a.describe()[<span class="string">&#x27;count&#x27;</span>]</span><br><span class="line">Out[<span class="number">61</span>]: <span class="number">4.0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">62</span>]: a.describe()[<span class="string">&#x27;max&#x27;</span>]</span><br><span class="line">Out[<span class="number">62</span>]: <span class="number">9.0</span></span><br></pre></td></tr></table></figure>

<p>DataFrame的.describe()函数：<br><strong>DataFrame类型调用.describe()函数后返回的结果也是DataFrame类型</strong>,因此可以用访问DataFrame对象的方式对其进行访问。<br>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">63</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>),index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: b.describe()</span><br><span class="line">Out[<span class="number">64</span>]: </span><br><span class="line">               <span class="number">0</span>          <span class="number">1</span>          <span class="number">2</span>          <span class="number">3</span>          <span class="number">4</span></span><br><span class="line">count   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span></span><br><span class="line">mean    <span class="number">7.500000</span>   <span class="number">8.500000</span>   <span class="number">9.500000</span>  <span class="number">10.500000</span>  <span class="number">11.500000</span></span><br><span class="line">std     <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span></span><br><span class="line"><span class="built_in">min</span>     <span class="number">0.000000</span>   <span class="number">1.000000</span>   <span class="number">2.000000</span>   <span class="number">3.000000</span>   <span class="number">4.000000</span></span><br><span class="line"><span class="number">25</span>%     <span class="number">3.750000</span>   <span class="number">4.750000</span>   <span class="number">5.750000</span>   <span class="number">6.750000</span>   <span class="number">7.750000</span></span><br><span class="line"><span class="number">50</span>%     <span class="number">7.500000</span>   <span class="number">8.500000</span>   <span class="number">9.500000</span>  <span class="number">10.500000</span>  <span class="number">11.500000</span></span><br><span class="line"><span class="number">75</span>%    <span class="number">11.250000</span>  <span class="number">12.250000</span>  <span class="number">13.250000</span>  <span class="number">14.250000</span>  <span class="number">15.250000</span></span><br><span class="line"><span class="built_in">max</span>    <span class="number">15.000000</span>  <span class="number">16.000000</span>  <span class="number">17.000000</span>  <span class="number">18.000000</span>  <span class="number">19.000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DataFrame类型</span></span><br><span class="line">In [<span class="number">65</span>]: <span class="built_in">type</span>(b.describe())</span><br><span class="line">Out[<span class="number">65</span>]: pandas.core.frame.DataFrame</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用操作DataFrame的方式对其进行操作</span></span><br><span class="line">In [<span class="number">66</span>]: b.describe().loc[<span class="string">&#x27;max&#x27;</span>]</span><br><span class="line">Out[<span class="number">66</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">15.0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">16.0</span></span><br><span class="line"><span class="number">2</span>    <span class="number">17.0</span></span><br><span class="line"><span class="number">3</span>    <span class="number">18.0</span></span><br><span class="line"><span class="number">4</span>    <span class="number">19.0</span></span><br><span class="line">Name: <span class="built_in">max</span>, dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">67</span>]: b.describe()[<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">67</span>]: </span><br><span class="line">count     <span class="number">4.000000</span></span><br><span class="line">mean      <span class="number">9.500000</span></span><br><span class="line">std       <span class="number">6.454972</span></span><br><span class="line"><span class="built_in">min</span>       <span class="number">2.000000</span></span><br><span class="line"><span class="number">25</span>%       <span class="number">5.750000</span></span><br><span class="line"><span class="number">50</span>%       <span class="number">9.500000</span></span><br><span class="line"><span class="number">75</span>%      <span class="number">13.250000</span></span><br><span class="line"><span class="built_in">max</span>      <span class="number">17.000000</span></span><br><span class="line">Name: <span class="number">2</span>, dtype: float64</span><br></pre></td></tr></table></figure>

<h3 id="3-2-3-数据的累计分析"><a href="#3-2-3-数据的累计分析" class="headerlink" title="3.2.3 数据的累计分析"></a>3.2.3 数据的累计分析</h3><p>Pandas库中也有许多累计统计分析函数，下面这些均适用于Series和DataFrame类型，<strong>累计计算</strong>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.cumsum()</td>
<td>依次给出前1、2、…、n个数的和，<strong>按0轴计算，下同</strong></td>
</tr>
<tr>
<td>.cumprod()</td>
<td>依次给出前1、2、…、n个数的积</td>
</tr>
<tr>
<td>.cummax()</td>
<td>依次给出前1、2、…、n个数的最大值</td>
</tr>
<tr>
<td>.cummin()</td>
<td>依次给出前1、2、…、n个数的最小值</td>
</tr>
</tbody></table>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">68</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>),index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: b</span><br><span class="line">Out[<span class="number">69</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">70</span>]: b.cumsum()    <span class="comment"># 依次给出前n个数的和</span></span><br><span class="line">Out[<span class="number">70</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">7</span>   <span class="number">9</span>  <span class="number">11</span>  <span class="number">13</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">18</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">27</span></span><br><span class="line">b  <span class="number">30</span>  <span class="number">34</span>  <span class="number">38</span>  <span class="number">42</span>  <span class="number">46</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">71</span>]: b.cumprod()    <span class="comment"># 依次给出前n个数的积</span></span><br><span class="line">Out[<span class="number">71</span>]: </span><br><span class="line">   <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c  <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">a  <span class="number">0</span>     <span class="number">6</span>    <span class="number">14</span>    <span class="number">24</span>    <span class="number">36</span></span><br><span class="line">d  <span class="number">0</span>    <span class="number">66</span>   <span class="number">168</span>   <span class="number">312</span>   <span class="number">504</span></span><br><span class="line">b  <span class="number">0</span>  <span class="number">1056</span>  <span class="number">2856</span>  <span class="number">5616</span>  <span class="number">9576</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">72</span>]: b.cummax()    <span class="comment"># 依次给出前n个数的最大值</span></span><br><span class="line">Out[<span class="number">72</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">73</span>]: b.cummin()    <span class="comment"># 依次给出前n个数的最小值</span></span><br><span class="line">Out[<span class="number">73</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line">c  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line">a  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line">d  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line">b  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>此外，Pandas库中还有一些其他的累计统计分析函数，下面这些均适用于Series和DataFrame类型，<strong>滚动计算（窗口计算）</strong>：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.rolling(w).sum()</td>
<td>依次计算相邻w个元素的和</td>
</tr>
<tr>
<td>.rolling(w).mean()</td>
<td>依次计算相邻w个元素的算术平均值</td>
</tr>
<tr>
<td>.rolling(w).var()</td>
<td>依次计算相邻w个元素的方差</td>
</tr>
<tr>
<td>.rolling(w).std()</td>
<td>依次计算相邻w个元素的标准差</td>
</tr>
<tr>
<td>.rolling(w).min() .max()</td>
<td>依次计算相邻w个元素的最小值和最大值</td>
</tr>
</tbody></table>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">74</span>]: b</span><br><span class="line">Out[<span class="number">74</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">d  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算相邻2个元素的和，默认在0轴</span></span><br><span class="line">In [<span class="number">75</span>]: b.rolling(<span class="number">2</span>).<span class="built_in">sum</span>()</span><br><span class="line">Out[<span class="number">75</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">a   <span class="number">5.0</span>   <span class="number">7.0</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span></span><br><span class="line">d  <span class="number">15.0</span>  <span class="number">17.0</span>  <span class="number">19.0</span>  <span class="number">21.0</span>  <span class="number">23.0</span></span><br><span class="line">b  <span class="number">25.0</span>  <span class="number">27.0</span>  <span class="number">29.0</span>  <span class="number">31.0</span>  <span class="number">33.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算相邻3个元素的和，默认在0轴</span></span><br><span class="line">In [<span class="number">76</span>]: b.rolling(<span class="number">3</span>).<span class="built_in">sum</span>()</span><br><span class="line">Out[<span class="number">76</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">a   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">d  <span class="number">15.0</span>  <span class="number">18.0</span>  <span class="number">21.0</span>  <span class="number">24.0</span>  <span class="number">27.0</span></span><br><span class="line">b  <span class="number">30.0</span>  <span class="number">33.0</span>  <span class="number">36.0</span>  <span class="number">39.0</span>  <span class="number">42.0</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-4-数据的相关分析"><a href="#3-3-4-数据的相关分析" class="headerlink" title="3.3.4 数据的相关分析"></a>3.3.4 数据的相关分析</h3><p>两个事物，表示为X和Y，如何判断它们之间的存在相关性？<br>相关性：</p>
<ul>
<li>X增大，Y增大，两个变量<strong>正相关</strong></li>
<li>X增大，Y减小，两个变量<strong>负相关</strong></li>
<li>X增大，Y无视，两个变量<strong>不相关</strong></li>
</ul>
<p>那么这种相关性又该如何表示出来呢？有下面两种方法。</p>
<p><strong>协方差</strong>，公式如下：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-4.png"></p>
<ul>
<li>协方差&gt;0，X和Y正相关</li>
<li>协方差&lt;0， X和Y负相关</li>
<li>协方差&#x3D;0，X和Y无关</li>
</ul>
<p><strong>Pearson相关系数</strong>，公式如下：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-5.png"><br>r的取值范围为[-1,1]，其取绝对值后的值与相关性有如下的对应关系：</p>
<ul>
<li>0.8‐1.0 极强相关</li>
<li>0.6‐0.8 强相关</li>
<li>0.4‐0.6 中等程度相关</li>
<li>0.2‐0.4 弱相关</li>
<li>0.0‐0.2 极弱相关或无相关</li>
</ul>
<p>Pandas库中适用于Series和DataFrame类型的相关分析函数如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.cov()</td>
<td>计算协方差矩阵</td>
</tr>
<tr>
<td>.corr()</td>
<td>计算相关系数矩阵, Pearson、Spearman、Kendall等系数</td>
</tr>
</tbody></table>
<p>示例代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">77</span>]: hprice = pd.Series([<span class="number">3.04</span>,<span class="number">22.93</span>,<span class="number">12.75</span>,<span class="number">22.6</span>,<span class="number">12.33</span>],index=[<span class="string">&#x27;2008&#x27;</span>,<span class="string">&#x27;2009&#x27;</span>,<span class="string">&#x27;2010&#x27;</span>,<span class="string">&#x27;2011&#x27;</span>,<span class="string">&#x27;2012&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">78</span>]: m2 = pd.Series([<span class="number">8.18</span>,<span class="number">18.38</span>,<span class="number">9.13</span>,<span class="number">7.82</span>,<span class="number">6.69</span>],index=[<span class="string">&#x27;2008&#x27;</span>,<span class="string">&#x27;2009&#x27;</span>,<span class="string">&#x27;2010&#x27;</span>,<span class="string">&#x27;2011&#x27;</span>,<span class="string">&#x27;2012&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算相关系数</span></span><br><span class="line">In [<span class="number">80</span>]: hprice.corr(m2)</span><br><span class="line">Out[<span class="number">80</span>]: <span class="number">0.5239439145220387</span></span><br></pre></td></tr></table></figure>
<p>3.2节小结：<br><img src="/2019/07/05/Python%E5%AD%A6%E4%B9%A0/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%B1%95%E7%A4%BA/chapter3/%E5%9B%BE3-6.png"></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag"># 数据分析</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/02/11/Python%E5%AD%A6%E4%B9%A0/Python%E7%88%AC%E8%99%AB/" rel="prev" title="Python爬虫">
      <i class="fa fa-chevron-left"></i> Python爬虫
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/03/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%E4%B8%8E%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="数字电路与逻辑设计学习笔记">
      数字电路与逻辑设计学习笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%86%E5%A4%87"><span class="nav-text">准备</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%E8%A1%A8%E7%A4%BA"><span class="nav-text">第一章 数据分析之表示</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-Numpy%E5%BA%93%E5%85%A5%E9%97%A8"><span class="nav-text">1.1 Numpy库入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BB%B4%E5%BA%A6"><span class="nav-text">1.1.1 数据的维度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-NumPy%E7%9A%84%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1ndarray"><span class="nav-text">1.1.2 NumPy的数组对象ndarray</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-ndarray%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%8F%98%E6%8D%A2"><span class="nav-text">1.1.3 ndarray数组的创建和变换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-4-ndarray%E6%95%B0%E7%BB%84%E7%9A%84%E6%93%8D%E4%BD%9C-%E6%95%B0%E7%BB%84%E7%9A%84%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87"><span class="nav-text">1.1.4 ndarray数组的操作(数组的索引和切片)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-5-ndarray%E6%95%B0%E7%BB%84%E7%9A%84%E8%BF%90%E7%AE%97"><span class="nav-text">1.1.5 ndarray数组的运算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-NumPy%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="nav-text">1.2 NumPy数据存取与函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-%E6%95%B0%E6%8D%AE%E7%9A%84CSV%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96"><span class="nav-text">1.2.1 数据的CSV文件存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E5%8F%96"><span class="nav-text">1.2.2 多维数据的存取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-NumPy%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%87%BD%E6%95%B0"><span class="nav-text">1.2.3 NumPy的随机数函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-NumPy%E7%9A%84%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="nav-text">1.2.4 NumPy的统计函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-5-NumPy%E7%9A%84%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0"><span class="nav-text">1.2.5 NumPy的梯度函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%E5%B1%95%E7%A4%BA"><span class="nav-text">第二章 数据分析之展示</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Matplotlib%E5%BA%93%E5%85%A5%E9%97%A8"><span class="nav-text">2.1 Matplotlib库入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-pyplot%E7%9A%84plot-%E5%87%BD%E6%95%B0"><span class="nav-text">2.1.1 pyplot的plot()函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-pyplot%E7%9A%84%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA"><span class="nav-text">2.1.2 pyplot的中文显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-pyplot%E7%9A%84%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA"><span class="nav-text">2.1.3 pyplot的文本显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-4-pyplot%E7%9A%84%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F"><span class="nav-text">2.1.4 pyplot的子绘图区域</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8B%E6%A6%82%E8%A6%81"><span class="nav-text">第三章 数据分析之概要</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-Pandas%E5%BA%93%E5%85%A5%E9%97%A8"><span class="nav-text">3.1 Pandas库入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-Pandas%E5%BA%93%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="nav-text">3.1.1 Pandas库的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-2-Pandas%E5%BA%93%E7%9A%84Series%E7%B1%BB%E5%9E%8B"><span class="nav-text">3.1.2 Pandas库的Series类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-3-Pandas%E5%BA%93%E7%9A%84DataFrame%E7%B1%BB%E5%9E%8B"><span class="nav-text">3.1.3 Pandas库的DataFrame类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-4-Pandas%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%93%8D%E4%BD%9C"><span class="nav-text">3.1.4 Pandas库的数据类型操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-5-Pandas%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BF%90%E7%AE%97"><span class="nav-text">3.1.5 Pandas库的数据类型运算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-Pandas%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81%E5%88%86%E6%9E%90"><span class="nav-text">3.2 Pandas数据特征分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8E%92%E5%BA%8F"><span class="nav-text">3.2.1 数据的排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="nav-text">3.2.2 数据的基本统计分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-%E6%95%B0%E6%8D%AE%E7%9A%84%E7%B4%AF%E8%AE%A1%E5%88%86%E6%9E%90"><span class="nav-text">3.2.3 数据的累计分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-4-%E6%95%B0%E6%8D%AE%E7%9A%84%E7%9B%B8%E5%85%B3%E5%88%86%E6%9E%90"><span class="nav-text">3.3.4 数据的相关分析</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="李澳"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">李澳</p>
  <div class="site-description" itemprop="description">自娱自乐</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李澳</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">199k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">11:02</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
